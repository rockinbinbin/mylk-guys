/*! React InstantSearchCore 5.4.0 | Â© Algolia, inc. | https://community.algolia.com/react-instantsearch */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react")):"function"==typeof define&&define.amd?define(["exports","react"],t):t((e=e||self).ReactInstantSearchCore={},e.React)}(this,function(e,d){"use strict";var v="default"in d?d.default:d;function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e){return(n="function"==typeof Symbol&&"symbol"===t(Symbol.iterator)?function(e){return t(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":t(e)})(e)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?y(e):t}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}var c=o,u=s;function f(t){if(c===setTimeout)return setTimeout(t,0);if((c===o||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}"function"==typeof a.setTimeout&&(c=setTimeout),"function"==typeof a.clearTimeout&&(u=clearTimeout);var l,h=[],p=!1,_=-1;function j(){p&&l&&(p=!1,l.length?h=l.concat(h):_=-1,h.length&&w())}function w(){if(!p){var e=f(j);p=!0;for(var t=h.length;t;){for(l=h,h=[];++_<t;)l&&l[_].run();_=-1,t=h.length}l=null,p=!1,function(t){if(u===clearTimeout)return clearTimeout(t);if((u===s||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}(e)}}function P(e,t){this.fun=e,this.array=t}P.prototype.run=function(){this.fun.apply(null,this.array)};function S(){}var O=S,E=S,A=S,T=S,N=S,C=S,I=S;var H=a.performance||{},M=H.now||H.mozNow||H.msNow||H.oNow||H.webkitNow||function(){return(new Date).getTime()};var Q=new Date;var D={nextTick:function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new P(e,t)),1!==h.length||p||f(w)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:O,addListener:E,once:A,off:T,removeListener:N,removeAllListeners:C,emit:I,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var t=.001*M.call(H),n=Math.floor(t),r=Math.floor(t%1*1e9);return e&&(n-=e[0],(r-=e[1])<0&&(n--,r+=1e9)),[n,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-Q)/1e3}},L="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function B(e,t){return e(t={exports:{}},t.exports),t.exports}function k(e){return function(){return e}}var U=function(){};U.thatReturns=k,U.thatReturnsFalse=k(!1),U.thatReturnsTrue=k(!0),U.thatReturnsNull=k(null),U.thatReturnsThis=function(){return this},U.thatReturnsArgument=function(e){return e};var q=U;var V=function(e,t,n,r,i,a,o,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,a,o,s],f=0;(c=new Error(t.replace(/%s/g,function(){return u[f++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},W=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,$=Object.prototype.propertyIsEnumerable;(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}})()&&Object.assign;var K=B(function(e){e.exports=function(){function e(e,t,n,r,i,a){"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==a&&V(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}var n={array:e.isRequired=e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=q,n.PropTypes=n}()});function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(e){F(t,e,n[e])})}return t}var J=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Y=function(){this.__data__=[],this.size=0};var Z=function(e,t){return e===t||e!=e&&t!=t};var X=function(e,t){for(var n=e.length;n--;)if(Z(e[n][0],t))return n;return-1},ee=Array.prototype.splice;var te=function(e){var t=this.__data__,n=X(t,e);return!(n<0||(n==t.length-1?t.pop():ee.call(t,n,1),--this.size,0))};var ne=function(e){var t=this.__data__,n=X(t,e);return n<0?void 0:t[n][1]};var re=function(e){return-1<X(this.__data__,e)};var ie=function(e,t){var n=this.__data__,r=X(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ae(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ae.prototype.clear=Y,ae.prototype.delete=te,ae.prototype.get=ne,ae.prototype.has=re,ae.prototype.set=ie;var oe=ae;var se=function(){this.__data__=new oe,this.size=0};var ce=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};var ue=function(e){return this.__data__.get(e)};var fe=function(e){return this.__data__.has(e)},le="object"==typeof L&&L&&L.Object===Object&&L,he="object"==typeof self&&self&&self.Object===Object&&self,pe=le||he||Function("return this")(),de=pe.Symbol,ve=Object.prototype,me=ve.hasOwnProperty,ge=ve.toString,ye=de?de.toStringTag:void 0;var be=function(e){var t=me.call(e,ye),n=e[ye];try{var r=!(e[ye]=void 0)}catch(e){}var i=ge.call(e);return r&&(t?e[ye]=n:delete e[ye]),i},Re=Object.prototype.toString;var xe=function(e){return Re.call(e)},Fe=de?de.toStringTag:void 0;var _e=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Fe&&Fe in Object(e)?be(e):xe(e)};var je=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var we,Pe=function(e){if(!je(e))return!1;var t=_e(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Se=pe["__core-js_shared__"],Oe=(we=/[^.]+$/.exec(Se&&Se.keys&&Se.keys.IE_PROTO||""))?"Symbol(src)_1."+we:"";var Ee=function(e){return!!Oe&&Oe in e},Ae=Function.prototype.toString;var Te=function(e){if(null!=e){try{return Ae.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Ne=/^\[object .+?Constructor\]$/,Ce=Function.prototype,Ie=Object.prototype,He=Ce.toString,Me=Ie.hasOwnProperty,Qe=RegExp("^"+He.call(Me).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var De=function(e){return!(!je(e)||Ee(e))&&(Pe(e)?Qe:Ne).test(Te(e))};var Le=function(e,t){return null==e?void 0:e[t]};var Be=function(e,t){var n=Le(e,t);return De(n)?n:void 0},ke=Be(pe,"Map"),Ue=Be(Object,"create");var qe=function(){this.__data__=Ue?Ue(null):{},this.size=0};var Ve=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},We=Object.prototype.hasOwnProperty;var ze=function(e){var t=this.__data__;if(Ue){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return We.call(t,e)?t[e]:void 0},$e=Object.prototype.hasOwnProperty;var Ke=function(e){var t=this.__data__;return Ue?void 0!==t[e]:$e.call(t,e)};var Ge=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Ue&&void 0===t?"__lodash_hash_undefined__":t,this};function Je(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Je.prototype.clear=qe,Je.prototype.delete=Ve,Je.prototype.get=ze,Je.prototype.has=Ke,Je.prototype.set=Ge;var Ye=Je;var Ze=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Xe=function(e,t){var n=e.__data__;return Ze(t)?n["string"==typeof t?"string":"hash"]:n.map};var et=function(e){var t=Xe(this,e).delete(e);return this.size-=t?1:0,t};var tt=function(e){return Xe(this,e).get(e)};var nt=function(e){return Xe(this,e).has(e)};var rt=function(e,t){var n=Xe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function it(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}it.prototype.clear=function(){this.size=0,this.__data__={hash:new Ye,map:new(ke||oe),string:new Ye}},it.prototype.delete=et,it.prototype.get=tt,it.prototype.has=nt,it.prototype.set=rt;var at=it;var ot=function(e,t){var n=this.__data__;if(n instanceof oe){var r=n.__data__;if(!ke||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new at(r)}return n.set(e,t),this.size=n.size,this};function st(e){var t=this.__data__=new oe(e);this.size=t.size}st.prototype.clear=se,st.prototype.delete=ce,st.prototype.get=ue,st.prototype.has=fe,st.prototype.set=ot;var ct=st;var ut=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e},ft=function(){try{var e=Be(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();var lt=function(e,t,n){"__proto__"==t&&ft?ft(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},ht=Object.prototype.hasOwnProperty;var pt=function(e,t,n){var r=e[t];ht.call(e,t)&&Z(r,n)&&(void 0!==n||t in e)||lt(e,t,n)};var dt=function(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var s=t[a],c=r?r(n[s],e[s],s,n,e):void 0;void 0===c&&(c=e[s]),i?lt(n,s,c):pt(n,s,c)}return n};var vt=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};var mt=function(e){return null!=e&&"object"==typeof e};var gt=function(e){return mt(e)&&"[object Arguments]"==_e(e)},yt=Object.prototype,bt=yt.hasOwnProperty,Rt=yt.propertyIsEnumerable,xt=gt(function(){return arguments}())?gt:function(e){return mt(e)&&bt.call(e,"callee")&&!Rt.call(e,"callee")},Ft=Array.isArray;var _t=function(){return!1},jt=B(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?pe.Buffer:void 0,a=(i?i.isBuffer:void 0)||_t;e.exports=a}),wt=/^(?:0|[1-9]\d*)$/;var Pt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&wt.test(e))&&-1<e&&e%1==0&&e<t};var St=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},Ot={};Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object Boolean]"]=Ot["[object DataView]"]=Ot["[object Date]"]=Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object WeakMap]"]=!1;var Et=function(e){return mt(e)&&St(e.length)&&!!Ot[_e(e)]};var At=function(t){return function(e){return t(e)}},Tt=B(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n&&le.process,a=function(){try{return i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=a}),Nt=Tt&&Tt.isTypedArray,Ct=Nt?At(Nt):Et,It=Object.prototype.hasOwnProperty;var Ht=function(e,t){var n=Ft(e),r=!n&&xt(e),i=!n&&!r&&jt(e),a=!n&&!r&&!i&&Ct(e),o=n||r||i||a,s=o?vt(e.length,String):[],c=s.length;for(var u in e)!t&&!It.call(e,u)||o&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Pt(u,c))||s.push(u);return s},Mt=Object.prototype;var Qt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Mt)};var Dt=function(t,n){return function(e){return t(n(e))}},Lt=Dt(Object.keys,Object),Bt=Object.prototype.hasOwnProperty;var kt=function(e){if(!Qt(e))return Lt(e);var t=[];for(var n in Object(e))Bt.call(e,n)&&"constructor"!=n&&t.push(n);return t};var Ut=function(e){return null!=e&&St(e.length)&&!Pe(e)};var qt=function(e){return Ut(e)?Ht(e):kt(e)};var Vt=function(e,t){return e&&dt(t,qt(t),e)};var Wt=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t},zt=Object.prototype.hasOwnProperty;var $t=function(e){if(!je(e))return Wt(e);var t=Qt(e),n=[];for(var r in e)("constructor"!=r||!t&&zt.call(e,r))&&n.push(r);return n};var Kt=function(e){return Ut(e)?Ht(e,!0):$t(e)};var Gt=function(e,t){return e&&dt(t,Kt(t),e)},Jt=B(function(e,t){var n=t&&!t.nodeType&&t,r=n&&e&&!e.nodeType&&e,i=r&&r.exports===n?pe.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}});var Yt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};var Zt=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a};var Xt=function(){return[]},en=Object.prototype.propertyIsEnumerable,tn=Object.getOwnPropertySymbols,nn=tn?function(t){return null==t?[]:(t=Object(t),Zt(tn(t),function(e){return en.call(t,e)}))}:Xt;var rn=function(e,t){return dt(e,nn(e),t)};var an=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},on=Dt(Object.getPrototypeOf,Object),sn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)an(t,nn(e)),e=on(e);return t}:Xt;var cn=function(e,t){return dt(e,sn(e),t)};var un=function(e,t,n){var r=t(e);return Ft(e)?r:an(r,n(e))};var fn=function(e){return un(e,qt,nn)};var ln=function(e){return un(e,Kt,sn)},hn=Be(pe,"DataView"),pn=Be(pe,"Promise"),dn=Be(pe,"Set"),vn=Be(pe,"WeakMap"),mn="[object Map]",gn="[object Promise]",yn="[object Set]",bn="[object WeakMap]",Rn="[object DataView]",xn=Te(hn),Fn=Te(ke),_n=Te(pn),jn=Te(dn),wn=Te(vn),Pn=_e;(hn&&Pn(new hn(new ArrayBuffer(1)))!=Rn||ke&&Pn(new ke)!=mn||pn&&Pn(pn.resolve())!=gn||dn&&Pn(new dn)!=yn||vn&&Pn(new vn)!=bn)&&(Pn=function(e){var t=_e(e),n="[object Object]"==t?e.constructor:void 0,r=n?Te(n):"";if(r)switch(r){case xn:return Rn;case Fn:return mn;case _n:return gn;case jn:return yn;case wn:return bn}return t});var Sn=Pn,On=Object.prototype.hasOwnProperty;var En=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&On.call(e,"index")&&(n.index=e.index,n.input=e.input),n},An=pe.Uint8Array;var Tn=function(e){var t=new e.constructor(e.byteLength);return new An(t).set(new An(e)),t};var Nn=function(e,t){var n=t?Tn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Cn=/\w*$/;var In=function(e){var t=new e.constructor(e.source,Cn.exec(e));return t.lastIndex=e.lastIndex,t},Hn=de?de.prototype:void 0,Mn=Hn?Hn.valueOf:void 0;var Qn=function(e){return Mn?Object(Mn.call(e)):{}};var Dn=function(e,t){var n=t?Tn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};var Ln=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return Tn(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Nn(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Dn(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return In(e);case"[object Set]":return new r;case"[object Symbol]":return Qn(e)}},Bn=Object.create,kn=function(){function n(){}return function(e){if(!je(e))return{};if(Bn)return Bn(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}}();var Un=function(e){return"function"!=typeof e.constructor||Qt(e)?{}:kn(on(e))};var qn=function(e){return mt(e)&&"[object Map]"==Sn(e)},Vn=Tt&&Tt.isMap,Wn=Vn?At(Vn):qn;var zn=function(e){return mt(e)&&"[object Set]"==Sn(e)},$n=Tt&&Tt.isSet,Kn=$n?At($n):zn,Gn=1,Jn=2,Yn=4,Zn="[object Arguments]",Xn="[object Function]",er="[object GeneratorFunction]",tr="[object Object]",nr={};nr[Zn]=nr["[object Array]"]=nr["[object ArrayBuffer]"]=nr["[object DataView]"]=nr["[object Boolean]"]=nr["[object Date]"]=nr["[object Float32Array]"]=nr["[object Float64Array]"]=nr["[object Int8Array]"]=nr["[object Int16Array]"]=nr["[object Int32Array]"]=nr["[object Map]"]=nr["[object Number]"]=nr[tr]=nr["[object RegExp]"]=nr["[object Set]"]=nr["[object String]"]=nr["[object Symbol]"]=nr["[object Uint8Array]"]=nr["[object Uint8ClampedArray]"]=nr["[object Uint16Array]"]=nr["[object Uint32Array]"]=!0,nr["[object Error]"]=nr[Xn]=nr["[object WeakMap]"]=!1;var rr=function n(r,i,a,e,t,o){var s,c=i&Gn,u=i&Jn,f=i&Yn;if(a&&(s=t?a(r,e,t,o):a(r)),void 0!==s)return s;if(!je(r))return r;var l=Ft(r);if(l){if(s=En(r),!c)return Yt(r,s)}else{var h=Sn(r),p=h==Xn||h==er;if(jt(r))return Jt(r,c);if(h==tr||h==Zn||p&&!t){if(s=u||p?{}:Un(r),!c)return u?cn(r,Gt(s,r)):rn(r,Vt(s,r))}else{if(!nr[h])return t?r:{};s=Ln(r,h,c)}}o||(o=new ct);var d=o.get(r);if(d)return d;if(o.set(r,s),Kn(r))return r.forEach(function(e){s.add(n(e,i,a,e,r,o))}),s;if(Wn(r))return r.forEach(function(e,t){s.set(t,n(e,i,a,t,r,o))}),s;var v=f?u?ln:fn:u?keysIn:qt,m=l?void 0:v(r);return ut(m||r,function(e,t){m&&(e=r[t=e]),pt(s,t,n(e,i,a,t,r,o))}),s};var ir=function(e){return"symbol"==typeof e||mt(e)&&"[object Symbol]"==_e(e)},ar=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,or=/^\w*$/;var sr=function(e,t){if(Ft(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ir(e))||or.test(e)||!ar.test(e)||null!=t&&e in Object(t)},cr="Expected a function";function ur(i,a){if("function"!=typeof i||null!=a&&"function"!=typeof a)throw new TypeError(cr);var o=function(){var e=arguments,t=a?a.apply(this,e):e[0],n=o.cache;if(n.has(t))return n.get(t);var r=i.apply(this,e);return o.cache=n.set(t,r)||n,r};return o.cache=new(ur.Cache||at),o}ur.Cache=at;var fr=ur;var lr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,hr=/\\(\\)?/g,pr=function(e){var t=fr(e,function(e){return 500===n.size&&n.clear(),e}),n=t.cache;return t}(function(e){var i=[];return 46===e.charCodeAt(0)&&i.push(""),e.replace(lr,function(e,t,n,r){i.push(n?r.replace(hr,"$1"):t||e)}),i}),dr=1/0,vr=de?de.prototype:void 0,mr=vr?vr.toString:void 0;var gr=function e(t){if("string"==typeof t)return t;if(Ft(t))return J(t,e)+"";if(ir(t))return mr?mr.call(t):"";var n=t+"";return"0"==n&&1/t==-dr?"-0":n};var yr=function(e){return null==e?"":gr(e)};var br=function(e,t){return Ft(e)?e:sr(e,t)?[e]:pr(yr(e))};var Rr=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};var xr=function(e){if("string"==typeof e||ir(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Fr=function(e,t){for(var n=0,r=(t=br(t,e)).length;null!=e&&n<r;)e=e[xr(t[n++])];return n&&n==r?e:void 0};var _r=function(e,t,n){var r=-1,i=e.length;t<0&&(t=i<-t?0:i+t),(n=i<n?i:n)<0&&(n+=i),i=n<t?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a};var jr=function(e,t){return t.length<2?e:Fr(e,_r(t,0,-1))};var wr=function(e,t){return t=br(t,e),null==(e=jr(e,t))||delete e[xr(Rr(t))]},Pr=Function.prototype,Sr=Object.prototype,Or=Pr.toString,Er=Sr.hasOwnProperty,Ar=Or.call(Object);var Tr=function(e){if(!mt(e)||"[object Object]"!=_e(e))return!1;var t=on(e);if(null===t)return!0;var n=Er.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Or.call(n)==Ar};var Nr=function(e){return Tr(e)?void 0:e},Cr=de?de.isConcatSpreadable:void 0;var Ir=function(e){return Ft(e)||xt(e)||!!(Cr&&e&&e[Cr])};var Hr=function e(t,n,r,i,a){var o=-1,s=t.length;for(r||(r=Ir),a||(a=[]);++o<s;){var c=t[o];0<n&&r(c)?1<n?e(c,n-1,r,i,a):an(a,c):i||(a[a.length]=c)}return a};var Mr=function(e){return null!=e&&e.length?Hr(e,1):[]};var Qr=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},Dr=Math.max;var Lr=function(a,o,s){return o=Dr(void 0===o?a.length-1:o,0),function(){for(var e=arguments,t=-1,n=Dr(e.length-o,0),r=Array(n);++t<n;)r[t]=e[o+t];t=-1;for(var i=Array(o+1);++t<o;)i[t]=e[t];return i[o]=s(r),Qr(a,this,i)}};var Br=function(e){return function(){return e}};var kr=function(e){return e},Ur=ft?function(e,t){return ft(e,"toString",{configurable:!0,enumerable:!1,value:Br(t),writable:!0})}:kr,qr=Date.now;var Vr=function(n){var r=0,i=0;return function(){var e=qr(),t=16-(e-i);if(i=e,0<t){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}},Wr=Vr(Ur);var zr=function(e){return Wr(Lr(e,void 0,Mr),e+"")},$r=zr(function(t,e){var n={};if(null==t)return n;var r=!1;e=J(e,function(e){return e=br(e,t),r||(r=1<e.length),e}),dt(t,ln(t),n),r&&(n=rr(n,7,Nr));for(var i=e.length;i--;)wr(n,e[i]);return n});var Kr=function(e){return this.__data__.has(e)};function Gr(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new at;++t<n;)this.add(e[t])}Gr.prototype.add=Gr.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Gr.prototype.has=Kr;var Jr=Gr;var Yr=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1};var Zr=function(e){return e!=e};var Xr=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};var ei=function(e,t,n){return t==t?Xr(e,t,n):Yr(e,Zr,n)};var ti=function(e,t){return!(null==e||!e.length)&&-1<ei(e,t,0)};var ni=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};var ri=function(e,t){return e.has(t)},ii=Math.min;var ai=function(e,t,n){for(var r=n?ni:ti,i=e[0].length,a=e.length,o=a,s=Array(a),c=1/0,u=[];o--;){var f=e[o];o&&t&&(f=J(f,At(t))),c=ii(f.length,c),s[o]=!n&&(t||120<=i&&120<=f.length)?new Jr(o&&f):void 0}f=e[0];var l=-1,h=s[0];e:for(;++l<i&&u.length<c;){var p=f[l],d=t?t(p):p;if(p=n||0!==p?p:0,!(h?ri(h,d):r(u,d,n))){for(o=a;--o;){var v=s[o];if(!(v?ri(v,d):r(e[o],d,n)))continue e}h&&h.push(d),u.push(p)}}return u};var oi=function(e,t){return Wr(Lr(e,t,kr),e+"")};var si=function(e){return mt(e)&&Ut(e)};var ci=function(e){return si(e)?e:[]},ui=oi(function(e){var t=J(e,ci);return t.length&&t[0]===e[0]?ai(t):[]});var fi=function(c){return function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[c?o:++r];if(!1===t(i[s],s,i))break}return e}}();var li=function(e,t){return e&&fi(e,t,qt)};var hi=function(e){return"function"==typeof e?e:kr};var pi=function(e,t){return e&&li(e,hi(t))};var di=function(a,o){return function(e,t){if(null==e)return e;if(!Ut(e))return a(e,t);for(var n=e.length,r=o?n:-1,i=Object(e);(o?r--:++r<n)&&!1!==t(i[r],r,i););return e}}(li);var vi=function(e,t){return(Ft(e)?ut:di)(e,hi(t))};var mi=function(e,r){var i=[];return di(e,function(e,t,n){r(e,t,n)&&i.push(e)}),i};var gi=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};var yi=function(e,t,n,r,i,a){var o=1&n,s=e.length,c=t.length;if(s!=c&&!(o&&s<c))return!1;var u=a.get(e);if(u&&a.get(t))return u==t;var f=-1,l=!0,h=2&n?new Jr:void 0;for(a.set(e,t),a.set(t,e);++f<s;){var p=e[f],d=t[f];if(r)var v=o?r(d,p,f,t,e,a):r(p,d,f,e,t,a);if(void 0!==v){if(v)continue;l=!1;break}if(h){if(!gi(t,function(e,t){if(!ri(h,t)&&(p===e||i(p,e,n,r,a)))return h.push(t)})){l=!1;break}}else if(p!==d&&!i(p,d,n,r,a)){l=!1;break}}return a.delete(e),a.delete(t),l};var bi=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r};var Ri=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n},xi=de?de.prototype:void 0,Fi=xi?xi.valueOf:void 0;var _i=function(e,t,n,r,i,a,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!a(new An(e),new An(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Z(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=bi;case"[object Set]":var c=1&r;if(s||(s=Ri),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;r|=2,o.set(e,t);var f=yi(s(e),s(t),r,i,a,o);return o.delete(e),f;case"[object Symbol]":if(Fi)return Fi.call(e)==Fi.call(t)}return!1},ji=Object.prototype.hasOwnProperty;var wi=function(e,t,n,r,i,a){var o=1&n,s=fn(e),c=s.length;if(c!=fn(t).length&&!o)return!1;for(var u=c;u--;){var f=s[u];if(!(o?f in t:ji.call(t,f)))return!1}var l=a.get(e);if(l&&a.get(t))return l==t;var h=!0;a.set(e,t),a.set(t,e);for(var p=o;++u<c;){var d=e[f=s[u]],v=t[f];if(r)var m=o?r(v,d,f,t,e,a):r(d,v,f,e,t,a);if(!(void 0===m?d===v||i(d,v,n,r,a):m)){h=!1;break}p||(p="constructor"==f)}if(h&&!p){var g=e.constructor,y=t.constructor;g!=y&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof y&&y instanceof y)&&(h=!1)}return a.delete(e),a.delete(t),h},Pi="[object Arguments]",Si="[object Array]",Oi="[object Object]",Ei=Object.prototype.hasOwnProperty;var Ai=function(e,t,n,r,i,a){var o=Ft(e),s=Ft(t),c=o?Si:Sn(e),u=s?Si:Sn(t),f=(c=c==Pi?Oi:c)==Oi,l=(u=u==Pi?Oi:u)==Oi,h=c==u;if(h&&jt(e)){if(!jt(t))return!1;f=!(o=!0)}if(h&&!f)return a||(a=new ct),o||Ct(e)?yi(e,t,n,r,i,a):_i(e,t,c,n,r,i,a);if(!(1&n)){var p=f&&Ei.call(e,"__wrapped__"),d=l&&Ei.call(t,"__wrapped__");if(p||d){var v=p?e.value():e,m=d?t.value():t;return a||(a=new ct),i(v,m,n,r,a)}}return!!h&&(a||(a=new ct),wi(e,t,n,r,i,a))};var Ti=function e(t,n,r,i,a){return t===n||(null==t||null==n||!mt(t)&&!mt(n)?t!=t&&n!=n:Ai(t,n,r,i,e,a))};var Ni=function(e,t,n,r){var i=n.length,a=i,o=!r;if(null==e)return!a;for(e=Object(e);i--;){var s=n[i];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<a;){var c=(s=n[i])[0],u=e[c],f=s[1];if(o&&s[2]){if(void 0===u&&!(c in e))return!1}else{var l=new ct;if(r)var h=r(u,f,c,e,t,l);if(!(void 0===h?Ti(f,u,3,r,l):h))return!1}}return!0};var Ci=function(e){return e==e&&!je(e)};var Ii=function(e){for(var t=qt(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Ci(i)]}return t};var Hi=function(t,n){return function(e){return null!=e&&e[t]===n&&(void 0!==n||t in Object(e))}};var Mi=function(t){var n=Ii(t);return 1==n.length&&n[0][2]?Hi(n[0][0],n[0][1]):function(e){return e===t||Ni(e,t,n)}};var Qi=function(e,t,n){var r=null==e?void 0:Fr(e,t);return void 0===r?n:r};var Di=function(e,t){return null!=e&&t in Object(e)};var Li=function(e,t,n){for(var r=-1,i=(t=br(t,e)).length,a=!1;++r<i;){var o=xr(t[r]);if(!(a=null!=e&&n(e,o)))break;e=e[o]}return a||++r!=i?a:!!(i=null==e?0:e.length)&&St(i)&&Pt(o,i)&&(Ft(e)||xt(e))};var Bi=function(e,t){return null!=e&&Li(e,t,Di)};var ki=function(n,r){return sr(n)&&Ci(r)?Hi(xr(n),r):function(e){var t=Qi(e,n);return void 0===t&&t===r?Bi(e,n):Ti(r,t,3)}};var Ui=function(t){return function(e){return null==e?void 0:e[t]}};var qi=function(t){return function(e){return Fr(e,t)}};var Vi=function(e){return sr(e)?Ui(xr(e)):qi(e)};var Wi=function(e){return"function"==typeof e?e:null==e?kr:"object"==typeof e?Ft(e)?ki(e[0],e[1]):Mi(e):Vi(e)};var zi=function(e,t){return(Ft(e)?Zt:mi)(e,Wi(t,3))};var $i=function(e,r){var i=-1,a=Ut(e)?Array(e.length):[];return di(e,function(e,t,n){a[++i]=r(e,t,n)}),a};var Ki=function(e,t){return(Ft(e)?J:$i)(e,Wi(t,3))};var Gi=function(e,t,n,r){var i=-1,a=null==e?0:e.length;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n};var Ji=function(e,r,i,a,t){return t(e,function(e,t,n){i=a?(a=!1,e):r(i,e,t,n)}),i};var Yi=function(e,t,n){var r=Ft(e)?Gi:Ji,i=arguments.length<3;return r(e,Wi(t,4),n,i,di)},Zi=/^\s+|\s+$/g,Xi=/^[-+]0x[0-9a-f]+$/i,ea=/^0b[01]+$/i,ta=/^0o[0-7]+$/i,na=parseInt;var ra=function(e){if("number"==typeof e)return e;if(ir(e))return NaN;if(je(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=je(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Zi,"");var n=ea.test(e);return n||ta.test(e)?na(e.slice(2),n?2:8):Xi.test(e)?NaN:+e};var ia=function(e){return e?(e=ra(e))!==1/0&&e!==-1/0?e==e?e:0:17976931348623157e292*(e<0?-1:1):0===e?e:0};var aa=function(e){var t=ia(e),n=t%1;return t==t?n?t-n:t:0},oa=Math.max;var sa=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:aa(n);return i<0&&(i=oa(r+i,0)),ei(e,t,i)};var ca=function(e){return"number"==typeof e||mt(e)&&"[object Number]"==_e(e)};var ua=function(e){return ca(e)&&e!=+e},fa=Object.prototype.hasOwnProperty;var la=function(e){if(null==e)return!0;if(Ut(e)&&(Ft(e)||"string"==typeof e||"function"==typeof e.splice||jt(e)||Ct(e)||xt(e)))return!e.length;var t=Sn(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Qt(e))return!kt(e).length;for(var n in e)if(fa.call(e,n))return!1;return!0};var ha=function(e,t){return Ti(e,t)};var pa=function(e){return void 0===e};var da=function(e){return"string"==typeof e||!Ft(e)&&mt(e)&&"[object String]"==_e(e)};var va=function(o){return function(e,t,n){var r=Object(e);if(!Ut(e)){var i=Wi(t,3);e=qt(e),t=function(e){return i(r[e],e,r)}}var a=o(e,t,n);return-1<a?r[i?e[a]:a]:void 0}},ma=Math.max;var ga=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:aa(n);return i<0&&(i=ma(r+i,0)),Yr(e,Wi(t,3),i)},ya=va(ga);var ba=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&r<=n?e:_r(e,t,n)};var Ra=function(e,t){for(var n=e.length;n--&&-1<ei(t,e[n],0););return n};var xa=function(e,t){for(var n=-1,r=e.length;++n<r&&-1<ei(t,e[n],0););return n};var Fa=function(e){return e.split("")},_a=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var ja=function(e){return _a.test(e)},wa="\\ud800-\\udfff",Pa="["+wa+"]",Sa="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Oa="\\ud83c[\\udffb-\\udfff]",Ea="[^"+wa+"]",Aa="(?:\\ud83c[\\udde6-\\uddff]){2}",Ta="[\\ud800-\\udbff][\\udc00-\\udfff]",Na="(?:"+Sa+"|"+Oa+")"+"?",Ca="[\\ufe0e\\ufe0f]?",Ia=Ca+Na+("(?:\\u200d(?:"+[Ea,Aa,Ta].join("|")+")"+Ca+Na+")*"),Ha="(?:"+[Ea+Sa+"?",Sa,Aa,Ta,Pa].join("|")+")",Ma=RegExp(Oa+"(?="+Oa+")|"+Ha+Ia,"g");var Qa=function(e){return e.match(Ma)||[]};var Da=function(e){return ja(e)?Qa(e):Fa(e)},La=/^\s+|\s+$/g;var Ba=function(e,t,n){if((e=yr(e))&&(n||void 0===t))return e.replace(La,"");if(!e||!(t=gr(t)))return e;var r=Da(e),i=Da(t),a=xa(r,i),o=Ra(r,i)+1;return ba(r,a,o).join("")};var ka=function(e,t,n){if(!je(n))return!1;var r=typeof t;return!!("number"==r?Ut(n)&&Pt(t,n.length):"string"==r&&t in n)&&Z(n[t],e)},Ua=Object.prototype,qa=Ua.hasOwnProperty,Va=oi(function(e,t){e=Object(e);var n=-1,r=t.length,i=2<r?t[2]:void 0;for(i&&ka(t[0],t[1],i)&&(r=1);++n<r;)for(var a=t[n],o=Kt(a),s=-1,c=o.length;++s<c;){var u=o[s],f=e[u];(void 0===f||Z(f,Ua[u])&&!qa.call(e,u))&&(e[u]=a[u])}return e});var Wa=function(e,t,n){(void 0===n||Z(e[t],n))&&(void 0!==n||t in e)||lt(e,t,n)};var za=function(e,t){return"__proto__"==t?void 0:e[t]};var $a=function(e){return dt(e,Kt(e))};var Ka=function(e,t,n,r,i,a,o){var s=za(e,n),c=za(t,n),u=o.get(c);if(u)Wa(e,n,u);else{var f=a?a(s,c,n+"",e,t,o):void 0,l=void 0===f;if(l){var h=Ft(c),p=!h&&jt(c),d=!h&&!p&&Ct(c);f=c,h||p||d?f=Ft(s)?s:si(s)?Yt(s):p?Jt(c,!(l=!1)):d?Dn(c,!(l=!1)):[]:Tr(c)||xt(c)?xt(f=s)?f=$a(s):(!je(s)||r&&Pe(s))&&(f=Un(c)):l=!1}l&&(o.set(c,f),i(f,c,r,a,o),o.delete(c)),Wa(e,n,f)}};var Ga=function r(i,a,o,s,c){i!==a&&fi(a,function(e,t){if(je(e))c||(c=new ct),Ka(i,a,t,o,r,s,c);else{var n=s?s(za(i,t),e,t+"",i,a,c):void 0;void 0===n&&(n=e),Wa(i,t,n)}},Kt)};var Ja=function(s){return oi(function(e,t){var n=-1,r=t.length,i=1<r?t[r-1]:void 0,a=2<r?t[2]:void 0;for(i=3<s.length&&"function"==typeof i?(r--,i):void 0,a&&ka(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&s(e,o,n,i)}return e})}(function(e,t,n){Ga(e,t,n)});var Ya=function e(t){if(ca(t))return t;if(da(t))return parseFloat(t);if(Array.isArray(t))return Ki(t,e);throw new Error("The value should be a number, a parseable string or an array of those.")};var Za=function(n,e){var r={},t=zi(e,function(e){return-1!==e.indexOf("attribute:")}),i=Ki(t,function(e){return e.split(":")[1]});-1===sa(i,"*")?vi(i,function(e){n.isConjunctiveFacet(e)&&n.isFacetRefined(e)&&(r.facetsRefinements||(r.facetsRefinements={}),r.facetsRefinements[e]=n.facetsRefinements[e]),n.isDisjunctiveFacet(e)&&n.isDisjunctiveFacetRefined(e)&&(r.disjunctiveFacetsRefinements||(r.disjunctiveFacetsRefinements={}),r.disjunctiveFacetsRefinements[e]=n.disjunctiveFacetsRefinements[e]),n.isHierarchicalFacet(e)&&n.isHierarchicalFacetRefined(e)&&(r.hierarchicalFacetsRefinements||(r.hierarchicalFacetsRefinements={}),r.hierarchicalFacetsRefinements[e]=n.hierarchicalFacetsRefinements[e]);var t=n.getNumericRefinements(e);la(t)||(r.numericRefinements||(r.numericRefinements={}),r.numericRefinements[e]=n.numericRefinements[e])}):(la(n.numericRefinements)||(r.numericRefinements=n.numericRefinements),la(n.facetsRefinements)||(r.facetsRefinements=n.facetsRefinements),la(n.disjunctiveFacetsRefinements)||(r.disjunctiveFacetsRefinements=n.disjunctiveFacetsRefinements),la(n.hierarchicalFacetsRefinements)||(r.hierarchicalFacetsRefinements=n.hierarchicalFacetsRefinements));var a=zi(e,function(e){return-1===e.indexOf("attribute:")});return vi(a,function(e){r[e]=n[e]}),r},Xa={addRefinement:function(e,t,n){if(Xa.isRefined(e,t,n))return e;var r=""+n,i=e[t]?e[t].concat(r):[r],a={};return a[t]=i,Va({},a,e)},removeRefinement:function(e,n,t){if(pa(t))return Xa.clearRefinement(e,n);var r=""+t;return Xa.clearRefinement(e,function(e,t){return n===t&&r===e})},toggleRefinement:function(e,t,n){if(pa(n))throw new Error("toggleRefinement should be used with a value");return Xa.isRefined(e,t,n)?Xa.removeRefinement(e,t,n):Xa.addRefinement(e,t,n)},clearRefinement:function(e,i,a){if(pa(i))return la(e)?e:{};if(da(i))return la(e[i])?e:$r(e,i);if(Pe(i)){var o=!1,t=Yi(e,function(e,t,n){var r=zi(t,function(e){return!i(e,n,a)});return la(r)?o=!0:(r.length!==t.length&&(o=!0),e[n]=r),e},{});return o?t:e}},isRefined:function(e,t,n){var r=sa,i=!!e[t]&&0<e[t].length;if(pa(n)||!i)return i;var a=""+n;return-1!==r(e[t],a)}},eo=Xa;function to(e){var t=e?to._parseNumbers(e):{};this.index=t.index||"",this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{},this.numericFilters=t.numericFilters,this.tagFilters=t.tagFilters,this.optionalTagFilters=t.optionalTagFilters,this.optionalFacetFilters=t.optionalFacetFilters,this.hitsPerPage=t.hitsPerPage,this.maxValuesPerFacet=t.maxValuesPerFacet,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.minProximity=t.minProximity,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.highlightPreTag=t.highlightPreTag,this.highlightPostTag=t.highlightPostTag,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.minimumAroundRadius=t.minimumAroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox,this.insidePolygon=t.insidePolygon,this.snippetEllipsisText=t.snippetEllipsisText,this.disableExactOnAttributes=t.disableExactOnAttributes,this.enableExactOnSingleWordQuery=t.enableExactOnSingleWordQuery,this.offset=t.offset,this.length=t.length;var n=this;pi(t,function(e,t){-1===to.PARAMETERS.indexOf(t)&&(n[t]=e)})}to.PARAMETERS=qt(new to),to._parseNumbers=function(r){if(r instanceof to)return r;var i={};if(vi(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"],function(e){var t=r[e];if(da(t)){var n=parseFloat(t);i[e]=ua(n)?t:n}}),Array.isArray(r.insideBoundingBox)&&(i.insideBoundingBox=r.insideBoundingBox.map(function(e){return e.map(function(e){return parseFloat(e)})})),r.numericRefinements){var a={};vi(r.numericRefinements,function(e,r){a[r]={},vi(e,function(e,t){var n=Ki(e,function(e){return Array.isArray(e)?Ki(e,function(e){return da(e)?parseFloat(e):e}):da(e)?parseFloat(e):e});a[r][t]=n})}),i.numericRefinements=a}return Ja({},r,i)},to.make=function(e){var n=new to(e);return vi(e.hierarchicalFacets,function(e){if(e.rootPath){var t=n.getHierarchicalRefinement(e.name);0<t.length&&0!==t[0].indexOf(e.rootPath)&&(n=n.clearRefinements(e.name)),0===(t=n.getHierarchicalRefinement(e.name)).length&&(n=n.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),n},to.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&0<n.tagRefinements.length?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):0<e.tagRefinements.length&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&!la(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):!la(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},to.prototype={constructor:to,clearRefinements:function(e){var t=eo.clearRefinement,n={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:t(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:t(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:t(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:t(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=Ya(n);if(this.isNumericRefined(e,t,r))return this;var i=Ja({},this.numericRefinements);return i[e]=Ja({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsExcludes[e]||[]},removeNumericRefinement:function(n,r,e){if(void 0===e)return void 0!==r?this.isNumericRefined(n,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===n&&e.op===r})}):this:this.isNumericRefined(n)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===n})}):this;var i=Ya(e);return this.isNumericRefined(n,r,i)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(e,t){return t===n&&e.op===r&&ha(e.val,i)})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(a){if(pa(a))return la(this.numericRefinements)?this.numericRefinements:{};if(da(a))return la(this.numericRefinements[a])?this.numericRefinements:$r(this.numericRefinements,a);if(Pe(a)){var o=!1,e=Yi(this.numericRefinements,function(e,t,r){var i={};return vi(t,function(e,t){var n=[];vi(e,function(e){a({val:e,op:t},r,"numeric")||n.push(e)}),la(n)?o=!0:(n.length!==e.length&&(o=!0),i[t]=n)}),la(i)||(e[r]=i),e},{});return o?e:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return eo.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:eo.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return eo.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:eo.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return eo.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:eo.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(t){return this.isConjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({facets:zi(this.facets,function(e){return e!==t})}):this},removeDisjunctiveFacet:function(t){return this.isDisjunctiveFacet(t)?this.clearRefinements(t).setQueryParameters({disjunctiveFacets:zi(this.disjunctiveFacets,function(e){return e!==t})}):this},removeHierarchicalFacet:function(t){return this.isHierarchicalFacet(t)?this.clearRefinements(t).setQueryParameters({hierarchicalFacets:zi(this.hierarchicalFacets,function(e){return e.name!==t})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return eo.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:eo.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return eo.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:eo.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return eo.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:eo.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(t){if(!this.isTagRefined(t))return this;var e={tagRefinements:zi(this.tagRefinements,function(e){return e!==t})};return this.setQueryParameters(e)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:eo.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:eo.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:eo.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&0<this.hierarchicalFacetsRefinements[e].length&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Va({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:Va({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))throw new Error(e+" is not refined.");var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:Va({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return-1<sa(this.disjunctiveFacets,e)},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return-1<sa(this.facets,e)},isFacetRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return eo.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return eo.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return eo.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this.getHierarchicalRefinement(e);return t?-1!==sa(n,t):0<n.length},isNumericRefined:function(e,t,n){if(pa(n)&&pa(t))return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&!pa(this.numericRefinements[e][t]);if(pa(n)||!r)return r;var i,a,o=Ya(n),s=!pa((i=this.numericRefinements[e][t],a=o,ya(i,function(e){return ha(e,a)})));return r&&s},isTagRefined:function(e){return-1!==sa(this.tagRefinements,e)},getRefinedDisjunctiveFacets:function(){var e=ui(qt(this.numericRefinements),this.disjunctiveFacets);return qt(this.disjunctiveFacetsRefinements).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){return ui(Ki(this.hierarchicalFacets,"name"),qt(this.hierarchicalFacetsRefinements))},getUnrefinedDisjunctiveFacets:function(){var t=this.getRefinedDisjunctiveFacets();return zi(this.disjunctiveFacets,function(e){return-1===sa(t,e)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var n=this.managedParameters,r={};return pi(this,function(e,t){-1===sa(n,t)&&void 0!==e&&(r[t]=e)}),r},getQueryParameter:function(e){if(!this.hasOwnProperty(e))throw new Error("Parameter '"+e+"' is not an attribute of SearchParameters (http://algolia.github.io/algoliasearch-helper-js/docs/SearchParameters.html)");return this[e]},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(n){if(!n)return this;var e=to.validate(this,n);if(e)throw e;var r=to._parseNumbers(n);return this.mutateMe(function(t){var e=qt(n);return vi(e,function(e){t[e]=r[e]}),t})},filter:function(e){return Za(this,e)},mutateMe:function(e){var t=new this.constructor(this);return e(t,this),t},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return ya(this.hierarchicalFacets,{name:e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))throw new Error("Cannot get the breadcrumb of an unknown hierarchical facet: `"+e+"`");var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return Ki(r,Ba)},toString:function(){return JSON.stringify(this,null,2)}};var no=to;var ro=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var a=e[t];a&&(i[r++]=a)}return i};var io=function(e,t){for(var n,r=-1,i=e.length;++r<i;){var a=t(e[r]);void 0!==a&&(n=void 0===n?a:n+a)}return n};var ao=function(e,t){return e&&e.length?io(e,Wi(t,2)):0};var oo=function(t,e){return J(e,function(e){return t[e]})};var so=function(e){return null==e?[]:oo(e,qt(e))},co=Math.max;var uo=function(e,t,n,r){e=Ut(e)?e:so(e),n=n&&!r?aa(n):0;var i=e.length;return n<0&&(n=co(i+n,0)),da(e)?n<=i&&-1<e.indexOf(t,n):!!i&&-1<ei(e,t,n)};var fo=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e};var lo=function(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,a=ir(e),o=void 0!==t,s=null===t,c=t==t,u=ir(t);if(!s&&!u&&!a&&t<e||a&&o&&c&&!s&&!u||r&&o&&c||!n&&c||!i)return 1;if(!r&&!a&&!u&&e<t||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!c)return-1}return 0};var ho=function(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,o=i.length,s=n.length;++r<o;){var c=lo(i[r],a[r]);if(c)return s<=r?c:c*("desc"==n[r]?-1:1)}return e.index-t.index};var po=function(e,r,n){var i=-1;r=J(r.length?r:[kr],At(Wi));var t=$i(e,function(t,e,n){return{criteria:J(r,function(e){return e(t)}),index:++i,value:t}});return fo(t,function(e,t){return ho(e,t,n)})};var vo=function(e,t,n,r){return null==e?[]:(Ft(t)||(t=null==t?[]:[t]),Ft(n=r?void 0:n)||(n=null==n?[]:[n]),po(e,t,n))},mo=vn&&new vn,go=mo?function(e,t){return mo.set(e,t),e}:kr;var yo=function(r){return function(){var e=arguments;switch(e.length){case 0:return new r;case 1:return new r(e[0]);case 2:return new r(e[0],e[1]);case 3:return new r(e[0],e[1],e[2]);case 4:return new r(e[0],e[1],e[2],e[3]);case 5:return new r(e[0],e[1],e[2],e[3],e[4]);case 6:return new r(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new r(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=kn(r.prototype),n=r.apply(t,e);return je(n)?n:t}};var bo=function(t,e,n){var r=1&e,i=yo(t);return function e(){return(this&&this!==pe&&this instanceof e?i:t).apply(r?n:this,arguments)}},Ro=Math.max;var xo=function(e,t,n,r){for(var i=-1,a=e.length,o=n.length,s=-1,c=t.length,u=Ro(a-o,0),f=Array(c+u),l=!r;++s<c;)f[s]=t[s];for(;++i<o;)(l||i<a)&&(f[n[i]]=e[i]);for(;u--;)f[s++]=e[i++];return f},Fo=Math.max;var _o=function(e,t,n,r){for(var i=-1,a=e.length,o=-1,s=n.length,c=-1,u=t.length,f=Fo(a-s,0),l=Array(f+u),h=!r;++i<f;)l[i]=e[i];for(var p=i;++c<u;)l[p+c]=t[c];for(;++o<s;)(h||i<a)&&(l[p+n[o]]=e[i++]);return l};var jo=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r};var wo=function(){};function Po(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}var So=(Po.prototype=kn(wo.prototype)).constructor=Po;var Oo=mo?function(e){return mo.get(e)}:function(){},Eo={},Ao=Object.prototype.hasOwnProperty;var To=function(e){for(var t=e.name+"",n=Eo[t],r=Ao.call(Eo,t)?n.length:0;r--;){var i=n[r],a=i.func;if(null==a||a==e)return i.name}return t};function No(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}var Co=(No.prototype=kn(wo.prototype)).constructor=No;var Io=function(e){if(e instanceof So)return e.clone();var t=new Co(e.__wrapped__,e.__chain__);return t.__actions__=Yt(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t},Ho=Object.prototype.hasOwnProperty;function Mo(e){if(mt(e)&&!Ft(e)&&!(e instanceof So)){if(e instanceof Co)return e;if(Ho.call(e,"__wrapped__"))return Io(e)}return new Co(e)}var Qo=(Mo.prototype=wo.prototype).constructor=Mo;var Do=function(e){var t=To(e),n=Qo[t];if("function"!=typeof n||!(t in So.prototype))return!1;if(e===n)return!0;var r=Oo(n);return!!r&&e===r[0]},Lo=Vr(go),Bo=/\{\n\/\* \[wrapped with (.+)\] \*/,ko=/,? & /;var Uo=function(e){var t=e.match(Bo);return t?t[1].split(ko):[]},qo=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;var Vo=function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(1<n?"& ":"")+t[r],t=t.join(2<n?", ":" "),e.replace(qo,"{\n/* [wrapped with "+t+"] */\n")},Wo=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];var zo=function(n,r){return ut(Wo,function(e){var t="_."+e[0];r&e[1]&&!ti(n,t)&&n.push(t)}),n.sort()};var $o=function(e,t,n){var r=t+"";return Wr(e,Vo(r,zo(Uo(r),n)))};var Ko=function(e,t,n,r,i,a,o,s,c,u){var f=8&t;t|=f?32:64,4&(t&=~(f?64:32))||(t&=-4);var l=[e,t,i,f?a:void 0,f?o:void 0,f?void 0:a,f?void 0:o,s,c,u],h=n.apply(void 0,l);return Do(e)&&Lo(h,l),h.placeholder=r,$o(h,e,t)};var Go=function(e){return e.placeholder},Jo=Math.min;var Yo=function(e,t){for(var n=e.length,r=Jo(t.length,n),i=Yt(e);r--;){var a=t[r];e[r]=Pt(a,n)?i[a]:void 0}return e},Zo="__lodash_placeholder__";var Xo=function(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var o=e[n];o!==t&&o!==Zo||(e[n]=Zo,a[i++]=n)}return a},es=1,ts=2,ns=8,rs=16,is=128,as=512;function os(u,f,l,h,p,d,v,m,g,y){var b=f&is,R=f&es,x=f&ts,F=f&(ns|rs),_=f&as,j=x?void 0:yo(u);return function e(){for(var t=arguments.length,n=Array(t),r=t;r--;)n[r]=arguments[r];if(F)var i=Go(e),a=jo(n,i);if(h&&(n=xo(n,h,p,F)),d&&(n=_o(n,d,v,F)),t-=a,F&&t<y){var o=Xo(n,i);return Ko(u,f,os,e.placeholder,l,n,o,m,g,y-t)}var s=R?l:this,c=x?s[u]:u;return t=n.length,m?n=Yo(n,m):_&&1<t&&n.reverse(),b&&g<t&&(n.length=g),this&&this!==pe&&this instanceof e&&(c=j||yo(c)),c.apply(s,n)}}var ss=os;var cs=function(o,s,c){var u=yo(o);return function e(){for(var t=arguments.length,n=Array(t),r=t,i=Go(e);r--;)n[r]=arguments[r];var a=t<3&&n[0]!==i&&n[t-1]!==i?[]:Xo(n,i);return(t-=a.length)<c?Ko(o,s,ss,e.placeholder,void 0,n,a,void 0,void 0,c-t):Qr(this&&this!==pe&&this instanceof e?u:o,this,n)}};var us=function(s,e,c,u){var f=1&e,l=yo(s);return function e(){for(var t=-1,n=arguments.length,r=-1,i=u.length,a=Array(i+n),o=this&&this!==pe&&this instanceof e?l:s;++r<i;)a[r]=u[r];for(;n--;)a[r++]=arguments[++t];return Qr(o,f?c:this,a)}},fs="__lodash_placeholder__",ls=Math.min;var hs=function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,o=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!o)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var s=t[3];if(s){var c=e[3];e[3]=c?xo(c,s,t[4]):s,e[4]=c?Xo(e[3],fs):t[4]}return(s=t[5])&&(c=e[5],e[5]=c?_o(c,s,t[6]):s,e[6]=c?Xo(e[5],fs):t[6]),(s=t[7])&&(e[7]=s),128&r&&(e[8]=null==e[8]?t[8]:ls(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e},ps=Math.max;var ds=function(e,t,n,r,i,a,o,s){var c=2&t;if(!c&&"function"!=typeof e)throw new TypeError("Expected a function");var u=r?r.length:0;if(u||(t&=-97,r=i=void 0),o=void 0===o?o:ps(aa(o),0),s=void 0===s?s:aa(s),u-=i?i.length:0,64&t){var f=r,l=i;r=i=void 0}var h=c?void 0:Oo(e),p=[e,t,n,r,i,f,l,a,o,s];if(h&&hs(p,h),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],!(s=p[9]=void 0===p[9]?c?0:e.length:ps(p[9]-u,0))&&24&t&&(t&=-25),t&&1!=t)d=8==t||16==t?cs(e,t,s):32!=t&&33!=t||i.length?ss.apply(void 0,p):us(e,t,n,r);else var d=bo(e,t,n);return $o((h?go:Lo)(d,p),e,t)},vs=oi(function(e,t){var n=Xo(t,Go(vs));return ds(e,32,void 0,t,n)});vs.placeholder={};var ms=vs,gs=oi(function(e,t){var n=Xo(t,Go(gs));return ds(e,64,void 0,t,n)});gs.placeholder={};var ys=gs;var bs=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=t<=e?e:t)),e};var Rs=function(e,t,n){return e=yr(e),n=null==n?0:bs(aa(n),0,e.length),t=gr(t),e.slice(n,n+t.length)==t},xs=function(e,i){return Yi(e,function(e,t){var n=t.split(":");if(i&&1===n.length){var r=ya(i,function(e){return Rs(e,t[0])});r&&(n=r.split(":"))}return e[0].push(n[0]),e[1].push(n[1]),e},[[],[]])};var Fs=function(e,t,n,r){if(!je(e))return e;for(var i=-1,a=(t=br(t,e)).length,o=a-1,s=e;null!=s&&++i<a;){var c=xr(t[i]),u=n;if(i!=o){var f=s[c];void 0===(u=r?r(f,c,s):void 0)&&(u=je(f)?f:Pt(t[i+1])?[]:{})}pt(s,c,u),s=s[c]}return e};var _s=function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],s=Fr(e,o);n(s,o)&&Fs(a,br(o,e),s)}return a};var js=function(e,n){if(null==e)return{};var t=J(ln(e),function(e){return[e]});return n=Wi(n),_s(e,t,function(e,t){return n(e,t[0])})},ws=function(f){return function(e,t){var p,d,v,m,g,n=f.hierarchicalFacets[t],r=f.hierarchicalFacetsRefinements[n.name]&&f.hierarchicalFacetsRefinements[n.name][0]||"",i=f._getHierarchicalFacetSeparator(n),a=f._getHierarchicalRootPath(n),o=f._getHierarchicalShowParentLevel(n),s=xs(f._getHierarchicalFacetSortBy(n)),c=(p=s,d=i,v=a,m=o,g=r,function(e,t,n){var r,i,a,o,s,c,u,f=e;if(0<n){var l=0;for(f=e;l<n;)f=f&&ya(f.data,{isRefined:!0}),l++}if(f){var h=(a=f.path||v,o=g,s=d,c=v,u=m,function(e,t){return(!c||0===t.indexOf(c)&&c!==t)&&(!c&&-1===t.indexOf(s)||c&&t.split(s).length-c.split(s).length==1||-1===t.indexOf(s)&&-1===o.indexOf(s)||0===o.indexOf(t)||0===t.indexOf(a+s)&&(u||0===t.indexOf(o)))});f.data=vo(Ki(js(t.data,h),(r=d,i=g,function(e,t){return{name:Ba(Rr(t.split(r))),path:t,count:e,isRefined:i===t||0===i.indexOf(t+r),data:null}})),p[0],p[1])}return e}),u=e;return a&&(u=e.slice(a.split(i).length)),Yi(u,c,{name:f.hierarchicalFacets[t].name,count:null,isRefined:!0,path:null,data:null})}};function Ps(e){var n={};return vi(e,function(e,t){n[e]=t}),n}function Ss(e,t,n){t&&t[n]&&(e.stats=t[n])}function Os(f,n){var l=n[0];this._rawResults=n,this.query=l.query,this.parsedQuery=l.parsedQuery,this.hits=l.hits,this.index=l.index,this.hitsPerPage=l.hitsPerPage,this.nbHits=l.nbHits,this.nbPages=l.nbPages,this.page=l.page,this.processingTimeMS=ao(n,"processingTimeMS"),this.aroundLatLng=l.aroundLatLng,this.automaticRadius=l.automaticRadius,this.serverUsed=l.serverUsed,this.timeoutCounts=l.timeoutCounts,this.timeoutHits=l.timeoutHits,this.exhaustiveFacetsCount=l.exhaustiveFacetsCount,this.exhaustiveNbHits=l.exhaustiveNbHits,this.userData=l.userData,this.queryID=l.queryID,this.disjunctiveFacets=[],this.hierarchicalFacets=Ki(f.hierarchicalFacets,function(){return[]}),this.facets=[];var e=f.getRefinedDisjunctiveFacets(),h=Ps(f.facets),p=Ps(f.disjunctiveFacets),r=1,d=this;vi(l.facets,function(e,t){var n,r,i=(n=f.hierarchicalFacets,r=t,ya(n,function(e){return uo(e.attributes,r)}));if(i){var a=i.attributes.indexOf(t),o=ga(f.hierarchicalFacets,{name:i.name});d.hierarchicalFacets[o][a]={attribute:t,data:e,exhaustive:l.exhaustiveFacetsCount}}else{var s,c=-1!==sa(f.disjunctiveFacets,t),u=-1!==sa(f.facets,t);c&&(s=p[t],d.disjunctiveFacets[s]={name:t,data:e,exhaustive:l.exhaustiveFacetsCount},Ss(d.disjunctiveFacets[s],l.facets_stats,t)),u&&(s=h[t],d.facets[s]={name:t,data:e,exhaustive:l.exhaustiveFacetsCount},Ss(d.facets[s],l.facets_stats,t))}}),this.hierarchicalFacets=ro(this.hierarchicalFacets),vi(e,function(e){var a=n[r],o=f.getHierarchicalFacetByName(e);vi(a.facets,function(e,t){var n;if(o){n=ga(f.hierarchicalFacets,{name:o.name});var r=ga(d.hierarchicalFacets[n],{attribute:t});if(-1===r)return;d.hierarchicalFacets[n][r].data=Ja({},d.hierarchicalFacets[n][r].data,e)}else{n=p[t];var i=l.facets&&l.facets[t]||{};d.disjunctiveFacets[n]={name:t,data:Va({},e,i),exhaustive:a.exhaustiveFacetsCount},Ss(d.disjunctiveFacets[n],a.facets_stats,t),f.disjunctiveFacetsRefinements[t]&&vi(f.disjunctiveFacetsRefinements[t],function(e){!d.disjunctiveFacets[n].data[e]&&-1<sa(f.disjunctiveFacetsRefinements[t],e)&&(d.disjunctiveFacets[n].data[e]=0)})}}),r++}),vi(f.getRefinedHierarchicalFacets(),function(e){var o=f.getHierarchicalFacetByName(e),s=f._getHierarchicalFacetSeparator(o),c=f.getHierarchicalRefinement(e);if(!(0===c.length||c[0].split(s).length<2)){var t=n[r];vi(t.facets,function(e,t){var n=ga(f.hierarchicalFacets,{name:o.name}),r=ga(d.hierarchicalFacets[n],{attribute:t});if(-1!==r){var i={};if(0<c.length){var a=c[0].split(s)[0];i[a]=d.hierarchicalFacets[n][r].data[a]}d.hierarchicalFacets[n][r].data=Va(i,e,d.hierarchicalFacets[n][r].data)}}),r++}}),vi(f.facetsExcludes,function(e,t){var n=h[t];d.facets[n]={name:t,data:l.facets[t],exhaustive:l.exhaustiveFacetsCount},vi(e,function(e){d.facets[n]=d.facets[n]||{name:t},d.facets[n].data=d.facets[n].data||{},d.facets[n].data[e]=0})}),this.hierarchicalFacets=Ki(this.hierarchicalFacets,ws(f)),this.facets=ro(this.facets),this.disjunctiveFacets=ro(this.disjunctiveFacets),this._state=f}function Es(e,t){if(!t.data||0===t.data.length)return t;var n=e(Ki(t.data,ms(Es,e)));return Ja({},t,{data:n})}function As(e,t){return t.sort(e)}function Ts(e,t){var n=ya(e,{name:t});return n&&n.stats}function Ns(e,t,n,r,i){var a=ya(i,{name:n});return{type:t,attributeName:n,name:r,count:Qi(a,"data["+r+"]")||0,exhaustive:Qi(a,"exhaustive")||!1}}Os.prototype.getFacetByName=function(e){var t={name:e};return ya(this.facets,t)||ya(this.disjunctiveFacets,t)||ya(this.hierarchicalFacets,t)},Os.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],Os.prototype.getFacetValues=function(e,t){var n=function(n,r){var e={name:r};if(n._state.isConjunctiveFacet(r)){var t=ya(n.facets,e);return t?Ki(t.data,function(e,t){return{name:t,count:e,isRefined:n._state.isFacetRefined(r,t),isExcluded:n._state.isExcludeRefined(r,t)}}):[]}if(n._state.isDisjunctiveFacet(r)){var i=ya(n.disjunctiveFacets,e);return i?Ki(i.data,function(e,t){return{name:t,count:e,isRefined:n._state.isDisjunctiveFacetRefined(r,t)}}):[]}if(n._state.isHierarchicalFacet(r))return ya(n.hierarchicalFacets,e)}(this,e);if(!n)throw new Error(e+" is not a retrieved facet.");var r=Va({},t,{sortBy:Os.DEFAULT_SORT});if(Array.isArray(r.sortBy)){var i=xs(r.sortBy,Os.DEFAULT_SORT);return Array.isArray(n)?vo(n,i[0],i[1]):Es(ys(vo,i[0],i[1]),n)}if(Pe(r.sortBy))return Array.isArray(n)?n.sort(r.sortBy):Es(ms(As,r.sortBy),n);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},Os.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return Ts(this.facets,e);if(this._state.isDisjunctiveFacet(e))return Ts(this.disjunctiveFacets,e);throw new Error(e+" is not present in `facets` or `disjunctiveFacets`")},Os.prototype.getRefinements=function(){var n=this._state,r=this,i=[];return vi(n.facetsRefinements,function(e,t){vi(e,function(e){i.push(Ns(n,"facet",t,e,r.facets))})}),vi(n.facetsExcludes,function(e,t){vi(e,function(e){i.push(Ns(n,"exclude",t,e,r.facets))})}),vi(n.disjunctiveFacetsRefinements,function(e,t){vi(e,function(e){i.push(Ns(n,"disjunctive",t,e,r.disjunctiveFacets))})}),vi(n.hierarchicalFacetsRefinements,function(e,t){vi(e,function(e){i.push(function(e,t,n,r){for(var i=ya(r,{name:t}),a=e.getHierarchicalFacetByName(t),o=n.split(a.separator),s=o[o.length-1],c=0;void 0!==i&&c<o.length;++c)i=ya(i.data,{name:o[c]});var u=Qi(i,"count"),f=Qi(i,"exhaustive");return{type:"hierarchical",attributeName:t,name:s,count:u||0,exhaustive:f||!1}}(n,t,e,r.hierarchicalFacets))})}),vi(n.numericRefinements,function(e,n){vi(e,function(e,t){vi(e,function(e){i.push({type:"numeric",attributeName:n,name:e,numericValue:e,operator:t})})})}),vi(n.tagRefinements,function(e){i.push({type:"tag",attributeName:"_tags",name:e})}),i};var Cs=Os,Is=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8},Hs=B(function(e){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}),Ms=B(function(e,p){var s=/%[sdj%]/g;p.format=function(e){if(!x(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,a=String(e).replace(s,function(e){if("%%"===e)return"%";if(i<=n)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),o=r[n];n<i;o=r[++n])b(o)||!u(o)?a+=" "+o:a+=" "+c(o);return a},p.deprecate=function(e,t){if(F(L.process))return function(){return p.deprecate(e,t).apply(this,arguments)};var n=!1;return function(){return n||(console.error(t),n=!0),e.apply(this,arguments)}};var r,i={};function c(e,t){var n={seen:[],stylize:o};return 3<=arguments.length&&(n.depth=arguments[2]),4<=arguments.length&&(n.colors=arguments[3]),y(t)?n.showHidden=t:t&&p._extend(n,t),F(n.showHidden)&&(n.showHidden=!1),F(n.depth)&&(n.depth=2),F(n.colors)&&(n.colors=!1),F(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=a),d(n,e,n.depth)}function a(e,t){var n=c.styles[t];return n?"["+c.colors[n][0]+"m"+e+"["+c.colors[n][1]+"m":e}function o(e,t){return e}function d(t,n,r){if(t.customInspect&&n&&P(n.inspect)&&n.inspect!==p.inspect&&(!n.constructor||n.constructor.prototype!==n)){var e=n.inspect(r,t);return x(e)||(e=d(t,e,r)),e}var i=function(e,t){if(F(t))return e.stylize("undefined","undefined");if(x(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(R(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(b(t))return e.stylize("null","null")}(t,n);if(i)return i;var a,o=Object.keys(n),s=(a={},o.forEach(function(e,t){a[e]=!0}),a);if(t.showHidden&&(o=Object.getOwnPropertyNames(n)),w(n)&&(0<=o.indexOf("message")||0<=o.indexOf("description")))return v(n);if(0===o.length){if(P(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(j(n))return t.stylize(Date.prototype.toString.call(n),"date");if(w(n))return v(n)}var u,f="",l=!1,h=["{","}"];(g(n)&&(l=!0,h=["[","]"]),P(n))&&(f=" [Function"+(n.name?": "+n.name:"")+"]");return _(n)&&(f=" "+RegExp.prototype.toString.call(n)),j(n)&&(f=" "+Date.prototype.toUTCString.call(n)),w(n)&&(f=" "+v(n)),0!==o.length||l&&0!=n.length?r<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=l?function(t,n,r,i,e){for(var a=[],o=0,s=n.length;o<s;++o)S(n,String(o))?a.push(m(t,n,r,i,String(o),!0)):a.push("");return e.forEach(function(e){e.match(/^\d+$/)||a.push(m(t,n,r,i,e,!0))}),a}(t,n,r,s,o):o.map(function(e){return m(t,n,r,s,e,l)}),t.seen.pop(),function(e,t,n){if(60<e.reduce(function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0))return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(u,f,h)):h[0]+f+h[1]}function v(e){return"["+Error.prototype.toString.call(e)+"]"}function m(e,t,n,r,i,a){var o,s,c;if((c=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),S(r,i)||(o="["+i+"]"),s||(e.seen.indexOf(c.value)<0?-1<(s=b(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n")):s=e.stylize("[Circular]","special")),F(o)){if(a&&i.match(/^\d+$/))return s;o=(o=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(o=o.substr(1,o.length-2),e.stylize(o,"name")):(o=o.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(o,"string"))}return o+": "+s}function g(e){return Array.isArray(e)}function y(e){return"boolean"==typeof e}function b(e){return null===e}function R(e){return"number"==typeof e}function x(e){return"string"==typeof e}function F(e){return void 0===e}function _(e){return u(e)&&"[object RegExp]"===t(e)}function u(e){return"object"==typeof e&&null!==e}function j(e){return u(e)&&"[object Date]"===t(e)}function w(e){return u(e)&&("[object Error]"===t(e)||e instanceof Error)}function P(e){return"function"==typeof e}function t(e){return Object.prototype.toString.call(e)}function n(e){return e<10?"0"+e.toString(10):e.toString(10)}p.debuglog=function(t){if(F(r)&&(r=""),t=t.toUpperCase(),!i[t])if(new RegExp("\\b"+t+"\\b","i").test(r)){var n=D.pid;i[t]=function(){var e=p.format.apply(p,arguments);console.error("%s %d: %s",t,n,e)}}else i[t]=function(){};return i[t]},(p.inspect=c).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},p.isArray=g,p.isBoolean=y,p.isNull=b,p.isNullOrUndefined=function(e){return null==e},p.isNumber=R,p.isString=x,p.isSymbol=function(e){return"symbol"==typeof e},p.isUndefined=F,p.isRegExp=_,p.isObject=u,p.isDate=j,p.isError=w,p.isFunction=P,p.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},p.isBuffer=Is;var f=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function S(e,t){return Object.prototype.hasOwnProperty.call(e,t)}p.log=function(){var e,t;console.log("%s - %s",(e=new Date,t=[n(e.getHours()),n(e.getMinutes()),n(e.getSeconds())].join(":"),[e.getDate(),f[e.getMonth()],t].join(" ")),p.format.apply(p,arguments))},p.inherits=Hs,p._extend=function(e,t){if(!t||!u(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}});Ms.format,Ms.deprecate,Ms.debuglog,Ms.inspect,Ms.isArray,Ms.isBoolean,Ms.isNull,Ms.isNullOrUndefined,Ms.isNumber,Ms.isString,Ms.isSymbol,Ms.isUndefined,Ms.isRegExp,Ms.isObject,Ms.isDate,Ms.isError,Ms.isFunction,Ms.isPrimitive,Ms.isBuffer,Ms.log,Ms.inherits,Ms._extend;function Qs(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var Ds=Qs;function Ls(e){return"function"==typeof e}function Bs(e){return"object"==typeof e&&null!==e}function ks(e){return void 0===e}function Us(e,t){this.main=e,this.fn=t,this.lastResults=null}(Qs.EventEmitter=Qs).prototype._events=void 0,Qs.prototype._maxListeners=void 0,Qs.defaultMaxListeners=10,Qs.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},Qs.prototype.emit=function(e){var t,n,r,i,a,o;if(this._events||(this._events={}),"error"===e&&(!this._events.error||Bs(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var s=new Error('Uncaught, unspecified "error" event. ('+t+")");throw s.context=t,s}if(ks(n=this._events[e]))return!1;if(Ls(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(Bs(n))for(i=Array.prototype.slice.call(arguments,1),r=(o=n.slice()).length,a=0;a<r;a++)o[a].apply(this,i);return!0},Qs.prototype.on=Qs.prototype.addListener=function(e,t){var n;if(!Ls(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,Ls(t.listener)?t.listener:t),this._events[e]?Bs(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,Bs(this._events[e])&&!this._events[e].warned&&(n=ks(this._maxListeners)?Qs.defaultMaxListeners:this._maxListeners)&&0<n&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},Qs.prototype.once=function(e,t){if(!Ls(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},Qs.prototype.removeListener=function(e,t){var n,r,i,a;if(!Ls(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=(n=this._events[e]).length,r=-1,n===t||Ls(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(Bs(n)){for(a=i;0<a--;)if(n[a]===t||n[a].listener&&n[a].listener===t){r=a;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},Qs.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(Ls(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},Qs.prototype.listeners=function(e){return this._events&&this._events[e]?Ls(this._events[e])?[this._events[e]]:this._events[e].slice():[]},Qs.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(Ls(t))return 1;if(t)return t.length}return 0},Qs.listenerCount=function(e,t){return e.listenerCount(t)},Ms.inherits(Us,Ds.EventEmitter),Us.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},Us.prototype.getModifiedState=function(e){return this.fn(e)};var qs=Us,Vs={_getQueries:function(i,a){var o=[];return o.push({indexName:i,params:Vs._getHitsSearchParams(a)}),vi(a.getRefinedDisjunctiveFacets(),function(e){o.push({indexName:i,params:Vs._getDisjunctiveFacetSearchParams(a,e)})}),vi(a.getRefinedHierarchicalFacets(),function(e){var t=a.getHierarchicalFacetByName(e),n=a.getHierarchicalRefinement(e),r=a._getHierarchicalFacetSeparator(t);0<n.length&&1<n[0].split(r).length&&o.push({indexName:i,params:Vs._getDisjunctiveFacetSearchParams(a,e,!0)})}),o},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(Vs._getHitsHierarchicalFacetsAttributes(e)),n=Vs._getFacetFilters(e),r=Vs._getNumericFilters(e),i={facets:t,tagFilters:Vs._getTagFilters(e)};return 0<n.length&&(i.facetFilters=n),0<r.length&&(i.numericFilters=r),Ja(e.getQueryParams(),i)},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=Vs._getFacetFilters(e,t,n),i=Vs._getNumericFilters(e,t),a={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:Vs._getTagFilters(e),analytics:!1,clickAnalytics:!1},o=e.getHierarchicalFacetByName(t);return a.facets=o?Vs._getDisjunctiveHierarchicalFacetAttribute(e,o,n):t,0<i.length&&(a.numericFilters=i),0<r.length&&(a.facetFilters=r),Ja(e.getQueryParams(),a)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var i=[];return vi(e.numericRefinements,function(e,r){vi(e,function(e,n){t!==r&&vi(e,function(e){if(Array.isArray(e)){var t=Ki(e,function(e){return r+n+e});i.push(t)}else i.push(r+n+e)})})}),i},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(c,u,f){var l=[];return vi(c.facetsRefinements,function(e,t){vi(e,function(e){l.push(t+":"+e)})}),vi(c.facetsExcludes,function(e,t){vi(e,function(e){l.push(t+":-"+e)})}),vi(c.disjunctiveFacetsRefinements,function(e,t){if(t!==u&&e&&0!==e.length){var n=[];vi(e,function(e){n.push(t+":"+e)}),l.push(n)}}),vi(c.hierarchicalFacetsRefinements,function(e,t){var n=e[0];if(void 0!==n){var r,i,a=c.getHierarchicalFacetByName(t),o=c._getHierarchicalFacetSeparator(a),s=c._getHierarchicalRootPath(a);if(u===t){if(-1===n.indexOf(o)||!s&&!0===f||s&&s.split(o).length===n.split(o).length)return;n=s?(i=s.split(o).length-1,s):(i=n.split(o).length-2,n.slice(0,n.lastIndexOf(o))),r=a.attributes[i]}else i=n.split(o).length-1,r=a.attributes[i];r&&l.push([r+":"+n])}}),l},_getHitsHierarchicalFacetsAttributes:function(o){return Yi(o.hierarchicalFacets,function(e,t){var n=o.getHierarchicalRefinement(t.name)[0];if(!n)return e.push(t.attributes[0]),e;var r=o._getHierarchicalFacetSeparator(t),i=n.split(r).length,a=t.attributes.slice(0,i+1);return e.concat(a)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var i=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,a={facetQuery:t,facetName:e};return"number"==typeof n&&(a.maxFacetHits=n),Ja(Vs._getHitsSearchParams(i),a)}},Ws=Vs;var zs=function(e,r,i,a){return li(e,function(e,t,n){r(a,i(e),t,n)}),a};var $s=function(n,r){return function(e,t){return zs(e,n,r(t),{})}},Ks=Object.prototype.toString,Gs=$s(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ks.call(t)),e[t]=n},Br(kr)),Js={advancedSyntax:"aS",allowTyposOnNumericTokens:"aTONT",analyticsTags:"aT",analytics:"a",aroundLatLngViaIP:"aLLVIP",aroundLatLng:"aLL",aroundPrecision:"aP",aroundRadius:"aR",attributesToHighlight:"aTH",attributesToRetrieve:"aTR",attributesToSnippet:"aTS",disjunctiveFacetsRefinements:"dFR",disjunctiveFacets:"dF",distinct:"d",facetsExcludes:"fE",facetsRefinements:"fR",facets:"f",getRankingInfo:"gRI",hierarchicalFacetsRefinements:"hFR",hierarchicalFacets:"hF",highlightPostTag:"hPoT",highlightPreTag:"hPrT",hitsPerPage:"hPP",ignorePlurals:"iP",index:"idx",insideBoundingBox:"iBB",insidePolygon:"iPg",length:"l",maxValuesPerFacet:"mVPF",minimumAroundRadius:"mAR",minProximity:"mP",minWordSizefor1Typo:"mWS1T",minWordSizefor2Typos:"mWS2T",numericFilters:"nF",numericRefinements:"nR",offset:"o",optionalWords:"oW",page:"p",queryType:"qT",query:"q",removeWordsIfNoResults:"rWINR",replaceSynonymsInHighlight:"rSIH",restrictSearchableAttributes:"rSA",synonyms:"s",tagFilters:"tF",tagRefinements:"tR",typoTolerance:"tT",optionalTagFilters:"oTF",optionalFacetFilters:"oFF",snippetEllipsisText:"sET",disableExactOnAttributes:"dEOA",enableExactOnSingleWordQuery:"eEOSWQ"},Ys=Gs(Js),Zs={ENCODED_PARAMETERS:qt(Ys),decode:function(e){return Ys[e]},encode:function(e){return Js[e]}},Xs=B(function(e,a){var o=Object.prototype.hasOwnProperty,s=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();a.arrayToObject=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n},a.merge=function(n,r,i){if(!r)return n;if("object"!=typeof r){if(Array.isArray(n))n.push(r);else{if("object"!=typeof n)return[n,r];(i.plainObjects||i.allowPrototypes||!o.call(Object.prototype,r))&&(n[r]=!0)}return n}if("object"!=typeof n)return[n].concat(r);var e=n;return Array.isArray(n)&&!Array.isArray(r)&&(e=a.arrayToObject(n,i)),Array.isArray(n)&&Array.isArray(r)?(r.forEach(function(e,t){o.call(n,t)?n[t]&&"object"==typeof n[t]?n[t]=a.merge(n[t],e,i):n.push(e):n[t]=e}),n):Object.keys(r).reduce(function(e,t){var n=r[t];return o.call(e,t)?e[t]=a.merge(e[t],n,i):e[t]=n,e},e)},a.assign=function(e,n){return Object.keys(n).reduce(function(e,t){return e[t]=n[t],e},e)},a.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},a.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),n="",r=0;r<t.length;++r){var i=t.charCodeAt(r);45===i||46===i||95===i||126===i||48<=i&&i<=57||65<=i&&i<=90||97<=i&&i<=122?n+=t.charAt(r):i<128?n+=s[i]:i<2048?n+=s[192|i>>6]+s[128|63&i]:i<55296||57344<=i?n+=s[224|i>>12]+s[128|i>>6&63]+s[128|63&i]:(r+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(r)),n+=s[240|i>>18]+s[128|i>>12&63]+s[128|i>>6&63]+s[128|63&i])}return n},a.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var c=o[s],u=a[c];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:a,prop:c}),n.push(u))}return function(e){for(var t;e.length;){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],i=0;i<t.length;++i)void 0!==t[i]&&r.push(t[i]);n.obj[n.prop]=r}}return t}(t)},a.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},a.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}}),ec=(Xs.arrayToObject,Xs.merge,Xs.assign,Xs.decode,Xs.encode,Xs.compact,Xs.isRegExp,Xs.isBuffer,String.prototype.replace),tc=/%20/g,nc={default:"RFC3986",formatters:{RFC1738:function(e){return ec.call(e,tc,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"},rc={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},ic=Date.prototype.toISOString,ac={delimiter:"&",encode:!0,encoder:Xs.encode,encodeValuesOnly:!1,serializeDate:function(e){return ic.call(e)},skipNulls:!1,strictNullHandling:!1},oc=function e(t,n,r,i,a,o,s,c,u,f,l,h){var p=t;if("function"==typeof s)p=s(n,p);else if(p instanceof Date)p=f(p);else if(null===p){if(i)return o&&!h?o(n,ac.encoder):n;p=""}if("string"==typeof p||"number"==typeof p||"boolean"==typeof p||Xs.isBuffer(p))return o?[l(h?n:o(n,ac.encoder))+"="+l(o(p,ac.encoder))]:[l(n)+"="+l(String(p))];var d,v=[];if(void 0===p)return v;if(Array.isArray(s))d=s;else{var m=Object.keys(p);d=c?m.sort(c):m}for(var g=0;g<d.length;++g){var y=d[g];a&&null===p[y]||(v=Array.isArray(p)?v.concat(e(p[y],r(n,y),r,i,a,o,s,c,u,f,l,h)):v.concat(e(p[y],n+(u?"."+y:"["+y+"]"),r,i,a,o,s,c,u,f,l,h)))}return v},sc=Object.prototype.hasOwnProperty,cc={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:Xs.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},uc=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),o=a?r.slice(0,a.index):r,s=[];if(o){if(!n.plainObjects&&sc.call(Object.prototype,o)&&!n.allowPrototypes)return;s.push(o)}for(var c=0;null!==(a=i.exec(r))&&c<n.depth;){if(c+=1,!n.plainObjects&&sc.call(Object.prototype,a[1].slice(1,-1))&&!n.allowPrototypes)return;s.push(a[1])}return a&&s.push("["+r.slice(a.index)+"]"),function(e,t,n){for(var r=t,i=e.length-1;0<=i;--i){var a,o=e[i];if("[]"===o)a=(a=[]).concat(r);else{a=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(s,10);!isNaN(c)&&o!==s&&String(c)===s&&0<=c&&n.parseArrays&&c<=n.arrayLimit?(a=[])[c]=r:a[s]=r}r=a}return r}(s,t,n)}},fc=function(e,t){var n=t?Xs.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||Xs.isRegExp(n.delimiter)?n.delimiter:cc.delimiter,n.depth="number"==typeof n.depth?n.depth:cc.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:cc.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:cc.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:cc.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:cc.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:cc.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:cc.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:cc.strictNullHandling,""===e||null==e)return n.plainObjects?Object.create(null):{};for(var r="string"==typeof e?function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,a=r.split(t.delimiter,i),o=0;o<a.length;++o){var s,c,u=a[o],f=u.indexOf("]="),l=-1===f?u.indexOf("="):f+1;c=-1===l?(s=t.decoder(u,cc.decoder),t.strictNullHandling?null:""):(s=t.decoder(u.slice(0,l),cc.decoder),t.decoder(u.slice(l+1),cc.decoder)),sc.call(n,s)?n[s]=[].concat(n[s]).concat(c):n[s]=c}return n}(e,n):e,i=n.plainObjects?Object.create(null):{},a=Object.keys(r),o=0;o<a.length;++o){var s=a[o],c=uc(s,r[s],n);i=Xs.merge(i,c,n)}return Xs.compact(i)},lc=function(e,t){var n=e,r=t?Xs.assign({},t):{};if(null!==r.encoder&&void 0!==r.encoder&&"function"!=typeof r.encoder)throw new TypeError("Encoder has to be a function.");var i=void 0===r.delimiter?ac.delimiter:r.delimiter,a="boolean"==typeof r.strictNullHandling?r.strictNullHandling:ac.strictNullHandling,o="boolean"==typeof r.skipNulls?r.skipNulls:ac.skipNulls,s="boolean"==typeof r.encode?r.encode:ac.encode,c="function"==typeof r.encoder?r.encoder:ac.encoder,u="function"==typeof r.sort?r.sort:null,f=void 0!==r.allowDots&&r.allowDots,l="function"==typeof r.serializeDate?r.serializeDate:ac.serializeDate,h="boolean"==typeof r.encodeValuesOnly?r.encodeValuesOnly:ac.encodeValuesOnly;if(void 0===r.format)r.format=nc.default;else if(!Object.prototype.hasOwnProperty.call(nc.formatters,r.format))throw new TypeError("Unknown format option provided.");var p,d,v=nc.formatters[r.format];"function"==typeof r.filter?n=(d=r.filter)("",n):Array.isArray(r.filter)&&(p=d=r.filter);var m,g=[];if("object"!=typeof n||null===n)return"";m=r.arrayFormat in rc?r.arrayFormat:"indices"in r?r.indices?"indices":"repeat":"indices";var y=rc[m];p||(p=Object.keys(n)),u&&p.sort(u);for(var b=0;b<p.length;++b){var R=p[b];o&&null===n[R]||(g=g.concat(oc(n[R],R,y,a,o,s?c:null,d,u,f,l,v,h)))}var x=g.join(i),F=!0===r.addQueryPrefix?"?":"";return 0<x.length?F+x:""},hc=oi(function(e,t,n){var r=1;if(n.length){var i=Xo(n,Go(hc));r|=32}return ds(e,r,t,n,i)});hc.placeholder={};var pc=hc;var dc=function(n,e){return _s(n,e,function(e,t){return Bi(n,t)})},vc=zr(function(e,t){return null==e?{}:dc(e,t)});var mc=function(e,r){var i={};return r=Wi(r,3),li(e,function(e,t,n){lt(i,r(e,t,n),e)}),i};var gc=function(e,r){var i={};return r=Wi(r,3),li(e,function(e,t,n){lt(i,t,r(e,t,n))}),i},yc=Xs.encode;function bc(e){return Tr(e)?gc(e,bc):Array.isArray(e)?Ki(e,bc):da(e)?yc(e):e}var Rc=["dFR","fR","nR","hFR","tR"],xc=Zs.ENCODED_PARAMETERS;function Fc(e,t,n,r){if(null!==e&&(n=n.replace(e,""),r=r.replace(e,"")),n=t[n]||n,r=t[r]||r,-1!==xc.indexOf(n)||-1!==xc.indexOf(r)){if("q"===n)return-1;if("q"===r)return 1;var i=-1!==Rc.indexOf(n),a=-1!==Rc.indexOf(r);if(i&&!a)return 1;if(a&&!i)return-1}return n.localeCompare(r)}var _c={getStateFromQueryString:function(e,t){var r=t&&t.prefix||"",n=t&&t.mapping||{},i=Gs(n),a=fc(e),o=new RegExp("^"+r),s=mc(a,function(e,t){var n=r&&o.test(t)?t.replace(o,""):t;return Zs.decode(i[n]||n)||n}),c=no._parseNumbers(s);return vc(c,no.PARAMETERS)},getUnrecognizedParametersInQueryString:function(e,t){var n=t&&t.prefix,r=t&&t.mapping||{},i=Gs(r),a={},o=fc(e);if(n){var s=new RegExp("^"+n);vi(o,function(e,t){s.test(t)||(a[t]=e)})}else vi(o,function(e,t){Zs.decode(i[t]||t)||(a[t]=e)});return a},getQueryStringFromState:function(e,t){var n=t&&t.moreAttributes,r=t&&t.prefix||"",i=t&&t.mapping||{},a=t&&t.safe||!1,o=Gs(i),s=a?e:bc(e),c=mc(s,function(e,t){var n=Zs.encode(t);return r+(i[n]||n)}),u=""===r?null:new RegExp("^"+r),f=pc(Fc,null,u,o);if(la(n))return lc(c,{encode:a,sort:f});var l=lc(c,{encode:a,sort:f}),h=lc(n,{encode:a});return l?l+"&"+h:h}},jc="2.26.0";function wc(e,t,n){e.addAlgoliaAgent&&!Oc(e)&&e.addAlgoliaAgent("JS Helper "+jc),this.setClient(e);var r=n||{};r.index=t,this.state=no.make(r),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function Pc(e){if(e<0)throw new Error("Page requested below 0.");return this._change(this.state.setPage(e)),this}function Sc(){return this.state.page}function Oc(e){var t=e._ua;return!!t&&-1!==t.indexOf("JS Helper")}Ms.inherits(wc,Ds.EventEmitter),wc.prototype.search=function(){return this._search(),this},wc.prototype.getQuery=function(){var e=this.state;return Ws._getHitsSearchParams(e)},wc.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=Ws._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",n),!t)return this.client.search(r).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new Cs(n,e.results),state:n,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(r).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new Cs(n,e.results),n)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)})},wc.prototype.searchForFacetValues=function(t,e,n,r){var i=this.state.setQueryParameters(r||{}),a=i.isDisjunctiveFacet(t),o=Ws.getSearchForFacetQuery(t,e,n,i);this._currentNbQueries++;var s=this;return this.emit("searchForFacetValues",i,t,e),("function"==typeof this.client.searchForFacetValues?this.client.searchForFacetValues([{indexName:i.index,params:o}]):this.client.initIndex(i.index).searchForFacetValues(o)).then(function(e){return s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),(e=Array.isArray(e)?e[0]:e).facetHits=vi(e.facetHits,function(e){e.isRefined=a?i.isDisjunctiveFacetRefined(t,e.value):i.isFacetRefined(t,e.value)}),e},function(e){throw s._currentNbQueries--,0===s._currentNbQueries&&s.emit("searchQueueEmpty"),e})},wc.prototype.setQuery=function(e){return this._change(this.state.setPage(0).setQuery(e)),this},wc.prototype.clearRefinements=function(e){return this._change(this.state.setPage(0).clearRefinements(e)),this},wc.prototype.clearTags=function(){return this._change(this.state.setPage(0).clearTags()),this},wc.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addDisjunctiveFacetRefinement(e,t)),this},wc.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},wc.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addHierarchicalFacetRefinement(e,t)),this},wc.prototype.addNumericRefinement=function(e,t,n){return this._change(this.state.setPage(0).addNumericRefinement(e,t,n)),this},wc.prototype.addFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addFacetRefinement(e,t)),this},wc.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},wc.prototype.addFacetExclusion=function(e,t){return this._change(this.state.setPage(0).addExcludeRefinement(e,t)),this},wc.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},wc.prototype.addTag=function(e){return this._change(this.state.setPage(0).addTagRefinement(e)),this},wc.prototype.removeNumericRefinement=function(e,t,n){return this._change(this.state.setPage(0).removeNumericRefinement(e,t,n)),this},wc.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeDisjunctiveFacetRefinement(e,t)),this},wc.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},wc.prototype.removeHierarchicalFacetRefinement=function(e){return this._change(this.state.setPage(0).removeHierarchicalFacetRefinement(e)),this},wc.prototype.removeFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeFacetRefinement(e,t)),this},wc.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},wc.prototype.removeFacetExclusion=function(e,t){return this._change(this.state.setPage(0).removeExcludeRefinement(e,t)),this},wc.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},wc.prototype.removeTag=function(e){return this._change(this.state.setPage(0).removeTagRefinement(e)),this},wc.prototype.toggleFacetExclusion=function(e,t){return this._change(this.state.setPage(0).toggleExcludeFacetRefinement(e,t)),this},wc.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},wc.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},wc.prototype.toggleFacetRefinement=function(e,t){return this._change(this.state.setPage(0).toggleFacetRefinement(e,t)),this},wc.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},wc.prototype.toggleTag=function(e){return this._change(this.state.setPage(0).toggleTagRefinement(e)),this},wc.prototype.nextPage=function(){return this.setPage(this.state.page+1)},wc.prototype.previousPage=function(){return this.setPage(this.state.page-1)},wc.prototype.setCurrentPage=Pc,wc.prototype.setPage=Pc,wc.prototype.setIndex=function(e){return this._change(this.state.setPage(0).setIndex(e)),this},wc.prototype.setQueryParameter=function(e,t){return this._change(this.state.setPage(0).setQueryParameter(e,t)),this},wc.prototype.setState=function(e){return this._change(no.make(e)),this},wc.prototype.getState=function(e){return void 0===e?this.state:this.state.filter(e)},wc.prototype.getStateAsQueryString=function(e){var t=e&&e.filters||["query","attribute:*"],n=this.getState(t);return _c.getQueryStringFromState(n,e)},wc.getConfigurationFromQueryString=_c.getStateFromQueryString,wc.getForeignConfigurationInQueryString=_c.getUnrecognizedParametersInQueryString,wc.prototype.setStateFromQueryString=function(e,t){var n=t&&t.triggerChange||!1,r=_c.getStateFromQueryString(e,t),i=this.state.setQueryParameters(r);n?this.setState(i):this.overrideStateWithoutTriggeringChangeEvent(i)},wc.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new no(e),this},wc.prototype.isRefined=function(e,t){if(this.state.isConjunctiveFacet(e))return this.state.isFacetRefined(e,t);if(this.state.isDisjunctiveFacet(e))return this.state.isDisjunctiveFacetRefined(e,t);throw new Error(e+" is not properly defined in this helper configuration(use the facets or disjunctiveFacets keys to configure it)")},wc.prototype.hasRefinements=function(e){return!la(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},wc.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},wc.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},wc.prototype.hasTag=function(e){return this.state.isTagRefined(e)},wc.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},wc.prototype.getIndex=function(){return this.state.index},wc.prototype.getCurrentPage=Sc,wc.prototype.getPage=Sc,wc.prototype.getTags=function(){return this.state.tagRefinements},wc.prototype.getQueryParameter=function(e){return this.state.getQueryParameter(e)},wc.prototype.getRefinements=function(e){var n=[];if(this.state.isConjunctiveFacet(e)){var t=this.state.getConjunctiveRefinements(e);vi(t,function(e){n.push({value:e,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);vi(r,function(e){n.push({value:e,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var i=this.state.getDisjunctiveRefinements(e);vi(i,function(e){n.push({value:e,type:"disjunctive"})})}var a=this.state.getNumericRefinements(e);return vi(a,function(e,t){n.push({value:e,operator:t,type:"numeric"})}),n},wc.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},wc.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},wc.prototype._search=function(){var r=this.state,e=Ws._getQueries(r.index,r),i=[{state:r,queriesCount:e.length,helper:this}];this.emit("search",r,this.lastResults);var t=Ki(this.derivedHelpers,function(e){var t=e.getModifiedState(r),n=Ws._getQueries(t.index,t);return i.push({state:t,queriesCount:n.length,helper:e}),e.emit("search",t,e.lastResults),n}),n=e.concat(Mr(t)),a=this._queryId++;this._currentNbQueries++;try{this.client.search(n).then(this._dispatchAlgoliaResponse.bind(this,i,a)).catch(this._dispatchAlgoliaError.bind(this,a))}catch(e){this.emit("error",e)}},wc.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var o=n.results;vi(e,function(e){var t=e.state,n=e.queriesCount,r=e.helper,i=o.splice(0,n),a=r.lastResults=new Cs(t,i);r.emit("result",a,t)})}},wc.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",t),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},wc.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},wc.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&0<this.state.disjunctiveRefinements[e].length},wc.prototype._change=function(e){e!==this.state&&(this.state=e,this.emit("change",this.state,this.lastResults))},wc.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},wc.prototype.setClient=function(e){return this.client===e||(e.addAlgoliaAgent&&!Oc(e)&&e.addAlgoliaAgent("JS Helper "+jc),this.client=e),this},wc.prototype.getClient=function(){return this.client},wc.prototype.derive=function(e){var t=new qs(this,e);return this.derivedHelpers.push(t),t},wc.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},wc.prototype.hasPendingRequests=function(){return 0<this._currentNbQueries};var Ec=wc;function Ac(e,t,n){return new Ec(e,t,n)}Ac.version=jc,Ac.AlgoliaSearchHelper=Ec,Ac.SearchParameters=no,Ac.SearchResults=Cs,Ac.url=_c;var Tc=Ac,Nc=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,a=0;a<n.length;a++)if(!i.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;return!0},Cc=Promise.resolve(),Ic=function(e){Cc.then(e)};function Hc(e){var t=e,n=[];return{getState:function(){return t},setState:function(e){t=e,n.forEach(function(e){return e()})},subscribe:function(e){return n.push(e),function(){n.splice(n.indexOf(e),1)}}}}var Mc={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"};function Qc(e){var t=e.preTag,n=e.postTag,r=e.highlightedValue,i=(void 0===r?"":r).split(t),a=i.shift(),o=""===a?[]:[{value:a,isHighlighted:!1}];if(n===t){var s=!0;i.forEach(function(e){o.push({value:e,isHighlighted:s}),s=!s})}else i.forEach(function(e){var t=e.split(n);o.push({value:t[0],isHighlighted:!0}),""!==t[1]&&o.push({value:t[1],isHighlighted:!1})});return o}var Dc=Object.prototype.hasOwnProperty;var Lc=function(e,t){return null!=e&&Dc.call(e,t)};var Bc=function(e,t){return null!=e&&Li(e,t,Lc)};function kc(e){return e&&e.multiIndexContext?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function Uc(e,t){return e.results&&!e.results.hits?e.results[kc(t)]?e.results[kc(t)]:null:e.results?e.results:null}function qc(e){return e&&e.multiIndexContext}function Vc(t,e,n,r,i){return qc(n)?i?(d=t,v=e,m=r,g=i,b=kc(n),R=m?{page:1}:void 0,x=Bc(d,"indices.".concat(b))?G({},d.indices,F({},b,G({},d.indices[b],(F(y={},g,G({},d.indices[b][g],v)),F(y,"page",1),y)))):G({},d.indices,F({},b,G(F({},g,v),R))),G({},d,{indices:x})):(u=t,f=e,l=r?{page:1}:void 0,h=kc(n),p=Bc(u,"indices.".concat(h))?G({},u.indices,F({},h,G({},u.indices[h],f,l))):G({},u.indices,F({},h,G({},f,l))),G({},u,{indices:p})):(t.indices&&r&&Object.keys(t.indices).forEach(function(e){t=Vc(t,{page:1},{multiIndexContext:{targetedIndex:e}},!0,i)}),i?(o=e,c=r?{page:1}:void 0,G({},a=t,F({},s=i,G({},a[s],o)),c)):G({},t,e,r?{page:1}:void 0));var a,o,s,c,u,f,l,h,p,d,v,m,g,y,b,R,x}function Wc(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}function zc(e,t,n,r,i){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:function(e){return e},o=kc(n),s=Wc(r),c=s.namespace,u=s.attributeName;return qc(n)&&t.indices&&c&&t.indices["".concat(o)]&&Bc(t.indices["".concat(o)][c],"".concat(u))||qc(n)&&t.indices&&Bc(t,"indices.".concat(o,".").concat(r))||!qc(n)&&c&&Bc(t[c],u)||!qc(n)&&Bc(t,r)?a(qc(n)?c?Qi(t.indices["".concat(o)][c],u):Qi(t.indices[o],r):c?Qi(t[c],u):Qi(t,r)):e.defaultRefinement?e.defaultRefinement:i}function $c(e,t,n){var r=kc(t),i=Wc(n),a=i.namespace,o=i.attributeName;return qc(t)&&Boolean(e.indices)?function(e){var t=e.searchState,n=e.indexId,r=e.id,i=e.namespace,a=e.attribute,o=t.indices[n];if(i&&o)return G({},t,{indices:G({},t.indices,F({},n,G({},o,F({},i,$r(o[i],a)))))});return $r(t,"indices.".concat(n,".").concat(r))}({attribute:o,searchState:e,indexId:r,id:n,namespace:a}):function(e){var t=e.searchState,n=e.id,r=e.namespace,i=e.attribute;if(r)return G({},t,F({},r,$r(t[r],i)));return $r(t,n)}({attribute:o,searchState:e,id:n,namespace:a})}var Kc=function(e){return qc(e.context)},Gc=function(e,t){return e.context.multiIndexContext.targetedIndex===t},Jc=function(e){return Boolean(e.props.indexId)},Yc=function(e,t){return e.props.indexId===t};function Zc(e){var r=e.indexName,t=e.initialState,n=void 0===t?{}:t,i=e.searchClient,a=e.resultsState,o=e.stalledSearchDelay,c=Tc(i,r,G({},Mc));c.on("search",function(){u||(u=setTimeout(function(){var e=$r(G({},h.getState(),{isSearchStalled:!0}),"resultsFacetValues");h.setState(e)},o))}).on("result",m({indexId:r})).on("error",g);var s=!1,u=null,f=c.state,l=function(e){var t=[],n=!1;function r(){n||(n=!0,Ic(function(){n=!1,e()}))}return{registerWidget:function(e){return t.push(e),r(),function(){t.splice(t.indexOf(e),1),r()}},update:r,getWidgets:function(){return t}}}(function(){var e=p(h.getState().widgets);h.setState(G({},h.getState(),{metadata:e,searching:!0})),v()}),h=Hc({widgets:n,metadata:[],results:a||null,error:null,searching:!1,isSearchStalled:!0,searchingForFacetValues:!1});function p(t){return l.getWidgets().filter(function(e){return Boolean(e.getMetadata)}).map(function(e){return e.getMetadata(t)})}function d(){var t=l.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return!Kc(e)&&!Jc(e)}).reduce(function(e,t){return t.getSearchParameters(e)},f),e=l.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){var t=Kc(e)&&Gc(e,r),n=Jc(e)&&Yc(e,r);return t||n}).reduce(function(e,t){return t.getSearchParameters(e)},t),n=l.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){var t=Kc(e)&&!Gc(e,r),n=Jc(e)&&!Yc(e,r);return t||n}).reduce(function(e,t){var n=Kc(t)?t.context.multiIndexContext.targetedIndex:t.props.indexId;return G({},e,F({},n,(e[n]||[]).concat(t)))},{});return{mainParameters:e,derivedParameters:Object.keys(n).map(function(e){return{parameters:n[e].reduce(function(e,t){return t.getSearchParameters(e)},t),indexId:e}})}}function v(){if(!s){var e=d(c.state),t=e.mainParameters,n=e.derivedParameters;c.derivedHelpers.slice().forEach(function(e){e.detach()}),n.forEach(function(e){var t=e.indexId,n=e.parameters;c.derive(function(){return n}).on("result",m({indexId:t})).on("error",g)}),c.setState(t),c.search()}}function m(e){var s=e.indexId;return function(e){var t=h.getState(),n=!c.derivedHelpers.length,r=t.results?t.results:{};r=!n&&r.getFacetByName?{}:r,n?r=e:r[s]=e;var i=h.getState(),a=i.isSearchStalled;c.hasPendingRequests()||(clearTimeout(u),u=null,a=!1);var o=$r(G({},i,{results:r,isSearchStalled:a,searching:!1,error:null}),"resultsFacetValues");h.setState(o)}}function g(e){var t=h.getState(),n=t.isSearchStalled;c.hasPendingRequests()||(clearTimeout(u),n=!1);var r=$r(G({},t,{isSearchStalled:n,error:e,searching:!1}),"resultsFacetValues");h.setState(r)}return{store:h,widgetsManager:l,getWidgetsIds:function(){return h.getState().metadata.reduce(function(e,t){return void 0!==t.id?e.concat(t.id):e},[])},getSearchParameters:d,onSearchForFacetValues:function(e){var n=e.facetName,r=e.query,t=e.maxFacetHits,i=void 0===t?10:t,a=Math.max(1,Math.min(i,100));h.setState(G({},h.getState(),{searchingForFacetValues:!0})),c.searchForFacetValues(n,r,a).then(function(e){var t;h.setState(G({},h.getState(),{error:null,searchingForFacetValues:!1,resultsFacetValues:G({},h.getState().resultsFacetValues,(t={},F(t,n,e.facetHits),F(t,"query",r),t))}))},function(e){h.setState(G({},h.getState(),{searchingForFacetValues:!1,error:e}))}).catch(function(e){setTimeout(function(){throw e})})},onExternalStateUpdate:function(e){var t=p(e);h.setState(G({},h.getState(),{widgets:e,metadata:t,searching:!0})),v()},transitionState:function(e){var n=h.getState().widgets;return l.getWidgets().filter(function(e){return Boolean(e.transitionState)}).reduce(function(e,t){return t.transitionState(n,e)},e)},updateClient:function(e){c.setClient(e),v()},updateIndex:function(e){f=f.setIndex(e),v()},clearCache:function(){c.clearCache(),v()},skipSearch:function(){s=!0}}}var Xc=function(e){function r(e){var t;m(this,r),(t=b(this,R(r).call(this,e))).isControlled=Boolean(e.searchState);var n=t.isControlled?e.searchState:{};return t.isUnmounting=!1,t.aisManager=Zc({indexName:e.indexName,searchClient:e.searchClient,initialState:n,resultsState:e.resultsState,stalledSearchDelay:e.stalledSearchDelay}),t}return x(r,d.Component),g(r,[{key:"componentWillReceiveProps",value:function(e){!function(e,t){if(!e.searchState&&t.searchState)throw new Error("You can't switch <InstantSearch> from being uncontrolled to controlled");if(e.searchState&&!t.searchState)throw new Error("You can't switch <InstantSearch> from being controlled to uncontrolled")}(this.props,e),this.props.indexName!==e.indexName&&this.aisManager.updateIndex(e.indexName),this.props.refresh!==e.refresh&&e.refresh&&this.aisManager.clearCache(),this.props.searchClient!==e.searchClient&&this.aisManager.updateClient(e.searchClient),this.isControlled&&this.aisManager.onExternalStateUpdate(e.searchState)}},{key:"componentWillUnmount",value:function(){this.isUnmounting=!0,this.aisManager.skipSearch()}},{key:"getChildContext",value:function(){return this._aisContextCache||(this._aisContextCache={ais:{onInternalStateUpdate:this.onWidgetsInternalStateUpdate.bind(this),createHrefForState:this.createHrefForState.bind(this),onSearchForFacetValues:this.onSearchForFacetValues.bind(this),onSearchStateChange:this.onSearchStateChange.bind(this),onSearchParameters:this.onSearchParameters.bind(this)}}),{ais:G({},this._aisContextCache.ais,{store:this.aisManager.store,widgetsManager:this.aisManager.widgetsManager,mainTargetedIndex:this.props.indexName})}}},{key:"createHrefForState",value:function(e){return e=this.aisManager.transitionState(e),this.isControlled&&this.props.createURL?this.props.createURL(e,this.getKnownKeys()):"#"}},{key:"onWidgetsInternalStateUpdate",value:function(e){e=this.aisManager.transitionState(e),this.onSearchStateChange(e),this.isControlled||this.aisManager.onExternalStateUpdate(e)}},{key:"onSearchStateChange",value:function(e){this.props.onSearchStateChange&&!this.isUnmounting&&this.props.onSearchStateChange(e)}},{key:"onSearchParameters",value:function(e,t,n){if(this.props.onSearchParameters){var r=this.props.searchState?this.props.searchState:{};this.props.onSearchParameters(e,t,n,r)}}},{key:"onSearchForFacetValues",value:function(e){this.aisManager.onSearchForFacetValues(e)}},{key:"getKnownKeys",value:function(){return this.aisManager.getWidgetsIds()}},{key:"render",value:function(){var e=d.Children.count(this.props.children),t=this.props.root,n=t.Root,r=t.props;return 0===e?null:v.createElement(n,r,this.props.children)}}]),r}();Xc.defaultProps={stalledSearchDelay:200},Xc.propTypes={indexName:K.string.isRequired,searchClient:K.object.isRequired,createURL:K.func,refresh:K.bool.isRequired,searchState:K.object,onSearchStateChange:K.func,onSearchParameters:K.func,resultsState:K.oneOfType([K.object,K.array]),children:K.node,root:K.shape({Root:K.oneOfType([K.string,K.func,K.object]),props:K.object}).isRequired,stalledSearchDelay:K.number},Xc.childContextTypes={ais:K.object.isRequired};var eu="5.4.0";var tu=function(e){function a(){var e,t;m(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=b(this,(e=R(a)).call.apply(e,[this].concat(r)))).unregisterWidget=t.context.ais.widgetsManager.registerWidget(y(y(t))),t}return x(a,d.Component),g(a,[{key:"componentWillMount",value:function(){this.context.ais.onSearchParameters(this.getSearchParameters.bind(this),this.getChildContext(),this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.indexName!==e.indexName&&this.context.ais.widgetsManager.update()}},{key:"componentWillUnmount",value:function(){this.unregisterWidget()}},{key:"getChildContext",value:function(){return{multiIndexContext:{targetedIndex:this.props.indexId}}}},{key:"getSearchParameters",value:function(e,t){return e.setIndex(this.props?this.props.indexName:t.indexName)}},{key:"render",value:function(){var e=d.Children.count(this.props.children),t=this.props.root,n=t.Root,r=t.props;return 0===e?null:v.createElement(n,r,this.props.children)}}]),a}();tu.propTypes={indexName:K.string.isRequired,indexId:K.string.isRequired,children:K.node,root:K.shape({Root:K.oneOfType([K.string,K.func,K.object]),props:K.object}).isRequired},tu.childContextTypes={multiIndexContext:K.object.isRequired},tu.contextTypes={ais:K.object.isRequired};function nu(){return(nu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ru(f){if(!f.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var i=Bc(f,"refine"),o=Bc(f,"searchForFacetValues"),s=Bc(f,"getSearchParameters"),c=Bc(f,"getMetadata"),u=Bc(f,"transitionState"),l=Bc(f,"cleanUp"),h=Bc(f,"shouldComponentUpdate"),p=s||c||u;return function(n){var e,t,r;return t=e=function(e){function a(){var e,i;m(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return F(y(y(i=b(this,(e=R(a)).call.apply(e,[this].concat(n))))),"mounted",!1),F(y(y(i)),"unmounting",!1),F(y(y(i)),"refine",function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.context.ais.onInternalStateUpdate((e=f.refine).call.apply(e,[y(y(i)),i.props,i.context.ais.store.getState().widgets].concat(n)))}),F(y(y(i)),"createURL",function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return i.context.ais.createHrefForState((e=f.refine).call.apply(e,[y(y(i)),i.props,i.context.ais.store.getState().widgets].concat(n)))}),F(y(y(i)),"searchForFacetValues",function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];i.context.ais.onSearchForFacetValues(f.searchForFacetValues.apply(f,[i.props,i.context.ais.store.getState().widgets].concat(t)))}),i.state={props:i.getProvidedProps(G({},i.props,{canRender:!1}))},i}return x(a,d.Component),g(a,[{key:"componentWillMount",value:function(){f.getSearchParameters&&this.context.ais.onSearchParameters(f.getSearchParameters.bind(this),this.context,this.props)}},{key:"componentDidMount",value:function(){var e=this;this.mounted=!0,this.unsubscribe=this.context.ais.store.subscribe(function(){e.unmounting||e.setState({props:e.getProvidedProps(G({},e.props,{canRender:!0}))})}),p&&(this.unregisterWidget=this.context.ais.widgetsManager.registerWidget(this))}},{key:"componentWillReceiveProps",value:function(e){ha(this.props,e)||(this.setState({props:this.getProvidedProps(G({},e,{canRender:this.mounted}))}),p&&(this.context.ais.widgetsManager.update(),f.transitionState&&this.context.ais.onSearchStateChange(f.transitionState.call(this,e,this.context.ais.store.getState().widgets,this.context.ais.store.getState().widgets))))}},{key:"shouldComponentUpdate",value:function(e,t){if(h)return f.shouldComponentUpdate.call(this,this.props,e,this.state,t);var n=Nc(this.props,e);return null===this.state.props||null===t.props?this.state.props!==t.props||!n:!n||!Nc(this.state.props,t.props)}},{key:"componentWillUnmount",value:function(){if(this.unmounting=!0,this.unsubscribe&&this.unsubscribe(),this.unregisterWidget&&(this.unregisterWidget(),l)){var e=f.cleanUp.call(this,this.props,this.context.ais.store.getState().widgets);this.context.ais.store.setState(G({},this.context.ais.store.getState(),{widgets:e})),this.context.ais.onSearchStateChange(function n(r){return Object.keys(r).forEach(function(e){var t=r[e];la(t)&&Tr(t)?delete r[e]:Tr(t)&&n(t)}),r}(e))}}},{key:"getProvidedProps",value:function(e){var t=this.context.ais.store.getState(),n=t.widgets,r=t.results,i=t.resultsFacetValues,a=t.searching,o=t.searchingForFacetValues,s=t.isSearchStalled,c=t.metadata,u={results:r,searching:a,searchingForFacetValues:o,isSearchStalled:s,error:t.error};return f.getProvidedProps.call(this,e,n,u,c,i)}},{key:"getSearchParameters",value:function(e){return s?f.getSearchParameters.call(this,e,this.props,this.context.ais.store.getState().widgets):null}},{key:"getMetadata",value:function(e){return c?f.getMetadata.call(this,this.props,e):{}}},{key:"transitionState",value:function(e,t){return u?f.transitionState.call(this,this.props,e,t):t}},{key:"render",value:function(){if(null===this.state.props)return null;var e=i?{refine:this.refine,createURL:this.createURL}:{},t=o?{searchForItems:this.searchForFacetValues}:{};return v.createElement(n,nu({},this.props,this.state.props,e,t))}}]),a}(),F(e,"displayName","".concat(f.displayName,"(").concat((r=n).displayName||r.name||"UnknownComponent",")")),F(e,"defaultClassNames",n.defaultClassNames),F(e,"propTypes",f.propTypes),F(e,"defaultProps",f.defaultProps),F(e,"contextTypes",{ais:K.object.isRequired,multiIndexContext:K.object}),t}}var iu=function(e,t,n,r){var i=-1,a=ti,o=!0,s=e.length,c=[],u=t.length;if(!s)return c;n&&(t=J(t,At(n))),r?(a=ni,o=!1):200<=t.length&&(a=ri,o=!1,t=new Jr(t));e:for(;++i<s;){var f=e[i],l=null==n?f:n(f);if(f=r||0!==f?f:0,o&&l==l){for(var h=u;h--;)if(t[h]===l)continue e;c.push(f)}else a(t,l,r)||c.push(f)}return c},au=oi(function(e,t){return si(e)?iu(e,Hr(t,1,si,!0)):[]});var ou=ru({displayName:"AlgoliaConfigure",getProvidedProps:function(){return{}},getSearchParameters:function(e,t){var n=$r(t,"children");return e.setQueryParameters(n)},transitionState:function(e,t,n){var r=$r(e,"children"),i=this._props?au(qt(this._props),qt(e)):[];return this._props=e,Vc(n,F({},"configure",G({},$r(n.configure,i),r)),this.context)},cleanUp:function(n,e){var r="configure",t=kc(this.context),i=qc(this.context)&&e.indices?e.indices[t]:e,a=(i&&i[r]?Object.keys(i[r]):[]).reduce(function(e,t){return n[t]||(e[t]=i[r][t]),e},{});return Vc(e,F({},r,a),this.context)}}),su=ou(function(){return null});function cu(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function uu(e,t,n){return zc(e,t,n,"query","",function(e){return e||""})}var fu=ru({displayName:"AlgoliaAutoComplete",getProvidedProps:function(e,t,n){return{hits:(r=n,r.results?r.results.hits&&Array.isArray(r.results.hits)?r.results.hits:Object.keys(r.results).reduce(function(e,t){return[].concat(cu(e),[{index:t,hits:r.results[t].hits}])},[]):[]),currentRefinement:uu(e,t,this.context)};var r},refine:function(e,t,n){return r=t,i=n,a=this.context,Vc(r,F({},"query",i),a,!0);var r,i,a},cleanUp:function(e,t){return n=t,r=this.context,$c(n,r,"query");var n,r},getSearchParameters:function(e,t,n){return e.setQuery(uu(t,n,this.context))}}),lu=function(e){return e.attributes[0]};var hu=ru({displayName:"AlgoliaBreadcrumb",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop ".concat(t," supplied to ").concat(n,". Expected an Array of Strings"))},transformItems:K.func},getProvidedProps:function(e,t,n){var r=lu(e),i=Uc(n,this.context);if(!(Boolean(i)&&Boolean(i.getFacetByName(r))))return{items:[],canRefine:!1};var a=i.getFacetValues(r),o=a.data?function n(e){return e.reduce(function(e,t){return t.isRefined&&(e.push({label:t.name,value:t.path}),t.data&&(e=e.concat(n(t.data)))),e},[])}(a.data):[],s=e.transformItems?e.transformItems(o):o;return{canRefine:0<s.length,items:s}},refine:function(e,t,n){return r=e,i=t,a=n,o=this.context,Vc(i,F({},lu(r),a||""),o,!0,"hierarchicalMenu");var r,i,a,o}}),pu=ru({displayName:"AlgoliaCurrentRefinements",propTypes:{transformItems:K.func},getProvidedProps:function(n,e,t,r){var i=r.reduce(function(e,t){return void 0!==t.items&&(n.clearsQuery||"query"!==t.id)?n.clearsQuery&&"query"===t.id&&""===t.items[0].currentRefinement?e:e.concat(t.items.map(function(e){return G({},e,{id:t.id,index:t.index})})):e},[]),a=n.transformItems?n.transformItems(i):i;return{items:a,canRefine:0<a.length}},refine:function(e,t,n){return(n instanceof Array?n.map(function(e){return e.value}):[n]).reduce(function(e,t){return t(e)},t)}});function du(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var vu=function(e){return[e.northEast.lat,e.northEast.lng,e.southWest.lat,e.southWest.lng].join()},mu=/^(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)$/,gu=function(e){var t=e.match(mu);return{lat:parseFloat(t[1]),lng:parseFloat(t[2])}},yu=function(e,t,n){var r=zc(e,t,n,"boundingBox",{});if(!la(r))return{northEast:{lat:parseFloat(r.northEast.lat),lng:parseFloat(r.northEast.lng)},southWest:{lat:parseFloat(r.southWest.lat),lng:parseFloat(r.southWest.lng)}}},bu=function(e,t,n){return Vc(e,F({},"boundingBox",t),n,!0)},Ru=ru({displayName:"AlgoliaGeoSearch",getProvidedProps:function(e,t,n){var r,i,a=Uc(n,this.context),o=yu(e,t,this.context),s=a&&a._state.insideBoundingBox&&(r=a._state.insideBoundingBox,i=r.split(","),{northEast:{lat:parseFloat(i[0]),lng:parseFloat(i[1])},southWest:{lat:parseFloat(i[2]),lng:parseFloat(i[3])}})||void 0,c=function(e,t,n){e.defaultRefinement;var r=du(e,["defaultRefinement"]),i=zc(r,t,n,"aroundLatLng");if(i)return i;var a=zc(r,t,n,"configure.aroundLatLng");return a&&gu(a)}(e,t,this.context),u=a&&a._state.aroundLatLng&&gu(a._state.aroundLatLng)||void 0,f=o||s,l=c||u;return{hits:a?a.hits.filter(function(e){return Boolean(e._geoloc)}):[],isRefinedWithMap:Boolean(f),currentRefinement:f,position:l}},refine:function(e,t,n){return bu(t,n,this.context)},getSearchParameters:function(e,t,n){var r=yu(t,n,this.context);return r?e.setQueryParameter("insideBoundingBox",vu(r)):e},cleanUp:function(e,t){return $c(t,this.context,"boundingBox")},getMetadata:function(e,t){var n=this,r=[],i="boundingBox",a=kc(this.context),o={},s=yu(e,t,this.context);return s&&r.push({label:"".concat(i,": ").concat(vu(s)),value:function(e){return bu(e,o,n.context)},currentRefinement:s}),{id:i,index:a,items:r}},shouldComponentUpdate:function(){return!0}}),xu=function(e){return e.attributes[0]},Fu="hierarchicalMenu";function _u(e,t,n){return zc(e,t,n,"".concat(Fu,".").concat(xu(e)),null,function(e){return""===e?null:e})}function ju(e,l,h,p){return e.map(function(e){return{label:e.name,value:(t=e.path,n=l,r=h,i=p,a=n.id,o=n.attributes,s=n.separator,c=n.rootPath,u=n.showParentLevel,f=_u(n,r,i),null===f?t:new Tc.SearchParameters({hierarchicalFacets:[{name:a,attributes:o,separator:s,rootPath:c,showParentLevel:u}]}).toggleHierarchicalFacetRefinement(a,f).toggleHierarchicalFacetRefinement(a,t).getHierarchicalRefinement(a)[0]),count:e.count,isRefined:e.isRefined,items:e.data&&ju(e.data,l,h,p)};var t,n,r,i,a,o,s,c,u,f})}function wu(e,t,n,r){return Vc(t,F({},xu(e),n||""),r,!0,Fu)}var Pu=["name:asc"],Su=ru({displayName:"AlgoliaHierarchicalMenu",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop ".concat(t," supplied to ").concat(n,". Expected an Array of Strings"))},separator:K.string,rootPath:K.string,showParentLevel:K.bool,defaultRefinement:K.string,showMore:K.bool,limit:K.number,showMoreLimit:K.number,transformItems:K.func},defaultProps:{showMore:!1,limit:10,showMoreLimit:20,separator:" > ",rootPath:null,showParentLevel:!0},getProvidedProps:function(e,t,n){var r=e.showMore,i=e.limit,a=e.showMoreLimit,o=xu(e),s=Uc(n,this.context);if(!(Boolean(s)&&Boolean(s.getFacetByName(o))))return{items:[],currentRefinement:_u(e,t,this.context),canRefine:!1};var c=r?a:i,u=s.getFacetValues(o,{sortBy:Pu}),f=u.data?ju(u.data,e,t,this.context):[],l=e.transformItems?e.transformItems(f):f;return{items:function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;return e.slice(0,n).map(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e.items)?G({},e,{items:t(e.items,n)}):e})}(l,c),currentRefinement:_u(e,t,this.context),canRefine:0<l.length}},refine:function(e,t,n){return wu(e,t,n,this.context)},cleanUp:function(e,t){return n=e,r=t,i=this.context,$c(r,i,"".concat(Fu,".").concat(xu(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attributes,i=t.separator,a=t.rootPath,o=t.showParentLevel,s=t.showMore,c=t.limit,u=t.showMoreLimit,f=xu(t),l=s?u:c;e=e.addHierarchicalFacet({name:f,attributes:r,separator:i,rootPath:a,showParentLevel:o}).setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,l)});var h=_u(t,n,this.context);return null!==h&&(e=e.toggleHierarchicalFacetRefinement(f,h)),e},getMetadata:function(t,e){var n=this,r=t.attributes[0],i=xu(t),a=_u(t,e,this.context);return{id:i,index:kc(this.context),items:a?[{label:"".concat(r,": ").concat(a),attribute:r,value:function(e){return wu(t,e,"",n.context)},currentRefinement:a}]:[]}}}),Ou=function(e){var t=e.attribute,n=e.hit,r=e.highlightProperty,i=e.preTag,a=void 0===i?Mc.highlightPreTag:i,o=e.postTag;return function(e){var t=e.preTag,n=void 0===t?"<em>":t,r=e.postTag,i=void 0===r?"</em>":r,a=e.highlightProperty,o=e.attribute,s=e.hit;if(!s)throw new Error("`hit`, the matching record, must be provided");var c=Qi(s[a],o,{});return Array.isArray(c)?c.map(function(e){return Qc({preTag:n,postTag:i,highlightedValue:e.value})}):Qc({preTag:n,postTag:i,highlightedValue:c.value})}({attribute:t,highlightProperty:r,hit:n,preTag:a,postTag:void 0===o?Mc.highlightPostTag:o})},Eu=ru({displayName:"AlgoliaHighlighter",propTypes:{},getProvidedProps:function(){return{highlight:Ou}}}),Au=ru({displayName:"AlgoliaHits",getProvidedProps:function(e,t,n){var r=Uc(n,this.context);return{hits:r?r.hits:[]}},getSearchParameters:function(e){return e}});function Tu(e,t,n){return zc(e,t,n,"hitsPerPage",null,function(e){return"string"==typeof e?parseInt(e,10):e})}var Nu=ru({displayName:"AlgoliaHitsPerPage",propTypes:{defaultRefinement:K.number.isRequired,items:K.arrayOf(K.shape({label:K.string,value:K.number.isRequired})).isRequired,transformItems:K.func},getProvidedProps:function(e,t){var n=Tu(e,t,this.context),r=e.items.map(function(e){return e.value===n?G({},e,{isRefined:!0}):G({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(r):r,currentRefinement:n}},refine:function(e,t,n){return Vc(t,F({},"hitsPerPage",n),this.context,!0)},cleanUp:function(e,t){return $c(t,this.context,"hitsPerPage")},getSearchParameters:function(e,t,n){return e.setHitsPerPage(Tu(t,n,this.context))},getMetadata:function(){return{id:"hitsPerPage"}}});function Cu(e,t,n){return zc(e,t,n,"page",1,function(e){return"string"==typeof e&&(e=parseInt(e,10)),e})}var Iu=ru({displayName:"AlgoliaInfiniteHits",getProvidedProps:function(e,t,n){var r=Uc(n,this.context);if(this._allResults=this._allResults||[],this._previousPage=this._previousPage||0,!r)return{hits:[],hasMore:!1};var i=r.hits,a=r.page,o=r.nbPages;0===a?this._allResults=i:a>this._previousPage?this._allResults=[].concat(cu(this._allResults),cu(i)):a<this._previousPage&&(this._allResults=i);var s=a<o-1;return this._previousPage=a,{hits:this._allResults,hasMore:s}},getSearchParameters:function(e,t,n){return e.setQueryParameters({page:Cu(t,n,this.context)-1})},refine:function(e,t){return Vc(t,F({},"page",Cu(e,t,this.context)+1),this.context,!1)}}),Hu="menu";function Mu(e){return e.attribute}function Qu(e,t,n){return zc(e,t,n,"".concat(Hu,".").concat(Mu(e)),null,function(e){return""===e?null:e})}function Du(e,t,n,r){return e===Qu(t,n,r)?"":e}function Lu(e){var t=e.showMore,n=e.limit,r=e.showMoreLimit;return t?r:n}function Bu(e,t,n,r){return Vc(t,F({},Mu(e),n||""),r,!0,Hu)}var ku=["count:desc","name:asc"],Uu=ru({displayName:"AlgoliaMenu",propTypes:{attribute:K.string.isRequired,showMore:K.bool,limit:K.number,showMoreLimit:K.number,defaultRefinement:K.string,transformItems:K.func,searchable:K.bool},defaultProps:{showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(t,n,e,r,i){var a=this,o=t.attribute,s=t.searchable,c=Uc(e,this.context),u=Boolean(c)&&Boolean(c.getFacetByName(o)),f=Boolean(i&&i[o]&&""!==i.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!u)return{items:[],currentRefinement:Qu(t,n,this.context),isFromSearch:f,searchable:s,canRefine:u};var l=f?i[o].map(function(e){return{label:e.value,value:Du(e.value,t,n,a.context),_highlightResult:{label:{value:e.highlighted}},count:e.count,isRefined:e.isRefined}}):c.getFacetValues(o,{sortBy:ku}).map(function(e){return{label:e.name,value:Du(e.name,t,n,a.context),count:e.count,isRefined:e.isRefined}}),h=s&&!f?vo(l,["isRefined","count","label"],["desc","desc","asc"]):l,p=t.transformItems?t.transformItems(h):h;return{items:p.slice(0,Lu(t)),currentRefinement:Qu(t,n,this.context),isFromSearch:f,searchable:s,canRefine:0<p.length}},refine:function(e,t,n){return Bu(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:Lu(e)}},cleanUp:function(e,t){return n=e,r=t,i=this.context,$c(r,i,"".concat(Hu,".").concat(Mu(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute;e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,Lu(t))})).addDisjunctiveFacet(r);var i=Qu(t,n,this.context);return null!==i&&(e=e.addDisjunctiveFacetRefinement(r,i)),e},getMetadata:function(t,e){var n=this,r=Mu(t),i=Qu(t,e,this.context);return{id:r,index:kc(this.context),items:null===i?[]:[{label:"".concat(t.attribute,": ").concat(i),attribute:t.attribute,value:function(e){return Bu(t,e,"",n.context)},currentRefinement:i}]}}});function qu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function Vu(e){return void 0===e.start&&void 0===e.end?"":"".concat(e.start?e.start:"",":").concat(e.end?e.end:"")}var Wu="multiRange";function zu(e){return e.attribute}function $u(e,t,n){return zc(e,t,n,"".concat(Wu,".").concat(zu(e)),"",function(e){return""===e?"":e})}function Ku(e,t,n,r){return Vc(t,F({},zu(e),n),r,!0,Wu)}var Gu=ru({displayName:"AlgoliaNumericMenu",propTypes:{id:K.string,attribute:K.string.isRequired,items:K.arrayOf(K.shape({label:K.node,start:K.number,end:K.number})).isRequired,transformItems:K.func},getProvidedProps:function(v,e,t){var n=v.attribute,m=$u(v,e,this.context),g=Uc(t,this.context),r=v.items.map(function(e){var t,n,r,i,a,o,s,c,u,f,l,h,p,d=Vu(e);return{label:e.label,value:d,isRefined:d===m,noRefinement:!!g&&(t=zu(v),n=g,r=d,f=n.getFacetByName(t)?n.getFacetStats(t):null,l=r.split(":"),h=0===Number(l[0])||""===r?Number.NEGATIVE_INFINITY:Number(l[0]),p=0===Number(l[1])||""===r?Number.POSITIVE_INFINITY:Number(l[1]),!(Boolean(f)&&(c=h,u=p,(s=f).min>c&&s.min<u||s.max>c&&s.max<u||(o=p,(a=h)>(i=f).min&&a<i.max||o>i.min&&o<i.max))))}}),i=g&&g.getFacetByName(n)?g.getFacetStats(n):null,a=ya(r,function(e){return!0===e.isRefined});r.some(function(e){return""===e.value})||r.push({value:"",isRefined:la(a),noRefinement:!i,label:"All"});var o=v.transformItems?v.transformItems(r):r;return{items:o,currentRefinement:m,canRefine:0<o.length&&o.some(function(e){return!1===e.noRefinement})}},refine:function(e,t,n){return Ku(e,t,n,this.context)},cleanUp:function(e,t){return n=e,r=t,i=this.context,$c(r,i,"".concat(Wu,".").concat(zu(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute,i=function(e){if(0===e.length)return{start:null,end:null};var t=qu(e.split(":"),2),n=t[0],r=t[1];return{start:0<n.length?parseInt(n,10):null,end:0<r.length?parseInt(r,10):null}}($u(t,n,this.context)),a=i.start,o=i.end;return e=e.addDisjunctiveFacet(r),a&&(e=e.addNumericRefinement(r,">=",a)),o&&(e=e.addNumericRefinement(r,"<=",o)),e},getMetadata:function(t,e){var n=this,r=zu(t),i=$u(t,e,this.context),a=[],o=kc(this.context);if(""!==i){var s=ya(t.items,function(e){return Vu(e)===i}).label;a.push({label:"".concat(t.attribute,": ").concat(s),attribute:t.attribute,currentRefinement:s,value:function(e){return Ku(t,e,"",n.context)}})}return{id:r,index:o,items:a}}});function Ju(e,t,n){return zc(e,t,n,"page",1,function(e){return"string"==typeof e?parseInt(e,10):e})}var Yu=ru({displayName:"AlgoliaPagination",getProvidedProps:function(e,t,n){var r=Uc(n,this.context);if(!r)return null;var i=r.nbPages;return{nbPages:i,currentRefinement:Ju(e,t,this.context),canRefine:1<i}},refine:function(e,t,n){return r=t,i=n,a=this.context,Vc(r,F({},"page",i),a,!1);var r,i,a},cleanUp:function(e,t){return $c(t,this.context,"page")},getSearchParameters:function(e,t,n){return e.setPage(Ju(t,n,this.context)-1)},getMetadata:function(){return{id:"page"}}}),Zu=ru({displayName:"AlgoliaPoweredBy",getProvidedProps:function(){var e="undefined"==typeof window;return{url:"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&"+"utm_content=".concat(e?"":window.location.hostname,"&")+"utm_campaign=poweredby"}}}),Xu=pe.isFinite;var ef=function(e){return"number"==typeof e&&Xu(e)};function tf(e){return e.attribute}var nf="range";function rf(o,e,t,n){var r=zc(o,e,n,"".concat(nf,".").concat(tf(o)),{},function(e){var t=e.min,n=e.max,r=Boolean(o.precision),i=t;"string"==typeof i&&(i=r?parseFloat(i):parseInt(i,10));var a=n;return"string"==typeof a&&(a=r?parseFloat(a):parseInt(a,10)),{min:i,max:a}}),i=void 0!==o.min,a=void 0!==o.max,s=void 0!==r.min,c=void 0!==r.max;if(i&&s&&r.min<t.min)throw Error("You can't provide min value lower than range.");if(a&&c&&r.max>t.max)throw Error("You can't provide max value greater than range.");return i&&!s&&(r.min=t.min),a&&!c&&(r.max=t.max),r}function af(e,t){return{min:void 0!==e.min?e.min:t.min,max:void 0!==e.max?e.max:t.max}}function of(e,t,n,r){return e||n!==r?e&&t?n:r:void 0}function sf(e,t,n,r,i){var a=n.min,o=n.max,s=r.min,c=r.max,u=void 0===a||""===a,f=void 0===o||""===o,l=u?void 0:parseFloat(a),h=f?void 0:parseFloat(o),p=u||ef(l),d=f||ef(h);if(!p||!d)throw Error("You can't provide non finite values to the range connector.");if(l<s)throw Error("You can't provide min value lower than range.");if(c<h)throw Error("You can't provide max value greater than range.");return Vc(t,F({},tf(e),{min:of(void 0!==e.min,u,s,l),max:of(void 0!==e.max,f,c,h)}),i,!0,nf)}var cf=ru({displayName:"AlgoliaRange",propTypes:{id:K.string,attribute:K.string.isRequired,defaultRefinement:K.shape({min:K.number,max:K.number}),min:K.number,max:K.number,precision:K.number,header:K.node,footer:K.node},defaultProps:{precision:0},getProvidedProps:function(e,t,n){var r,i,a,o,s,c,u=e.attribute,f=e.precision,l=e.min,h=e.max,p=Uc(n,this.context),d=p&&p.getFacetByName(u),v=d&&p.getFacetStats(u)||{},m=(d?p.getFacetValues(u):[]).map(function(e){return{value:e.name,count:e.count}}),g=(r={min:l,max:h},i=v,a=f,c=Math.pow(10,a),o=ef(r.min)?r.min:ef(i.min)?i.min:void 0,s=ef(r.max)?r.max:ef(i.max)?i.max:void 0,{min:void 0!==o?Math.floor(o*c)/c:o,max:void 0!==s?Math.ceil(s*c)/c:s}),y=g.min,b=g.max;this._currentRange={min:y,max:b};var R=rf(e,t,this._currentRange,this.context);return{min:y,max:b,canRefine:0<m.length,currentRefinement:af(R,this._currentRange),count:m,precision:f}},refine:function(e,t,n){return sf(e,t,n,this._currentRange,this.context)},cleanUp:function(e,t){return n=e,r=t,i=this.context,$c(r,i,"".concat(nf,".").concat(tf(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute,i=rf(t,n,this._currentRange,this.context),a=i.min,o=i.max;return e=e.addDisjunctiveFacet(r),void 0!==a&&(e=e.addNumericRefinement(r,">=",a)),void 0!==o&&(e=e.addNumericRefinement(r,"<=",o)),e},getMetadata:function(t,e){var n=this,r=this._currentRange,i=r.min,a=r.max,o=rf(t,e,this._currentRange,this.context),s=o.min,c=o.max,u=[],f=void 0!==s,l=void 0!==c;if(f&&s!==i||l&&c!==a){var h=[f?"".concat(s," <= "):"",t.attribute,l?" <= ".concat(c):""];u.push({label:h.join(""),attribute:t.attribute,value:function(e){return sf(t,e,{},n._currentRange,n.context)},currentRefinement:af({min:s,max:c},{min:i,max:a})})}return{id:tf(t),index:kc(this.context),items:u}}}),uf="refinementList";function ff(e){return e.attribute}function lf(e,t,n){return zc(e,t,n,"".concat(uf,".").concat(ff(e)),[],function(e){return"string"==typeof e?""===e?[]:[e]:e})}function hf(t,e,n,r){var i=lf(e,n,r);return-1===i.indexOf(t)?i.concat([t]):i.filter(function(e){return e!==t})}function pf(e){var t=e.showMore,n=e.limit,r=e.showMoreLimit;return t?r:n}function df(e,t,n,r){return Vc(t,F({},ff(e),0<n.length?n:""),r,!0,uf)}var vf=["isRefined","count:desc","name:asc"],mf=ru({displayName:"AlgoliaRefinementList",propTypes:{id:K.string,attribute:K.string.isRequired,operator:K.oneOf(["and","or"]),showMore:K.bool,limit:K.number,showMoreLimit:K.number,defaultRefinement:K.arrayOf(K.oneOfType([K.string,K.number])),searchable:K.bool,transformItems:K.func},defaultProps:{operator:"or",showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(t,n,e,r,i){var a=this,o=t.attribute,s=t.searchable,c=Uc(e,this.context),u=Boolean(c)&&Boolean(c.getFacetByName(o)),f=Boolean(i&&i[o]&&""!==i.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!u)return{items:[],currentRefinement:lf(t,n,this.context),canRefine:u,isFromSearch:f,searchable:s};var l=f?i[o].map(function(e){return{label:e.value,value:hf(e.value,t,n,a.context),_highlightResult:{label:{value:e.highlighted}},count:e.count,isRefined:e.isRefined}}):c.getFacetValues(o,{sortBy:vf}).map(function(e){return{label:e.name,value:hf(e.name,t,n,a.context),count:e.count,isRefined:e.isRefined}}),h=t.transformItems?t.transformItems(l):l;return{items:h.slice(0,pf(t)),currentRefinement:lf(t,n,this.context),isFromSearch:f,searchable:s,canRefine:0<h.length}},refine:function(e,t,n){return df(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:pf(e)}},cleanUp:function(e,t){return n=e,r=t,i=this.context,$c(r,i,"".concat(uf,".").concat(ff(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute,i="and"===t.operator?"addFacet":"addDisjunctiveFacet",a="".concat(i,"Refinement");return e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,pf(t))}))[i](r),lf(t,n,this.context).reduce(function(e,t){return e[a](r,t)},e)},getMetadata:function(r,i){var e=ff(r),a=this.context;return{id:e,index:kc(this.context),items:0<lf(r,i,a).length?[{attribute:r.attribute,label:"".concat(r.attribute,": "),currentRefinement:lf(r,i,a),value:function(e){return df(r,e,[],a)},items:lf(r,i,a).map(function(n){return{label:"".concat(n),value:function(e){var t=lf(r,e,a).filter(function(e){return e!==n});return df(r,i,t,a)}}})}]:[]}}}),gf=ru({displayName:"AlgoliaScrollTo",propTypes:{scrollOn:K.string},defaultProps:{scrollOn:"page"},getProvidedProps:function(e,t){var n=e.scrollOn,r=zc(e,t,this.context,n,null,function(e){return e});this._prevSearchState||(this._prevSearchState={}),qc(this.context)&&(t=t.indices?t.indices[kc(this.context)]:{});var i=$r($r(t,"configure"),n),a=Nc(this._prevSearchState,i);return this._prevSearchState=i,{value:r,hasNotChanged:a}}});function yf(e,t,n){return zc(e,t,n,"query","",function(e){return e||""})}function bf(e,t,n,r){return Vc(t,F({},"query",n),r,!0)}var Rf=ru({displayName:"AlgoliaSearchBox",propTypes:{defaultRefinement:K.string},getProvidedProps:function(e,t,n){return{currentRefinement:yf(e,t,this.context),isSearchStalled:n.isSearchStalled}},refine:function(e,t,n){return bf(0,t,n,this.context)},cleanUp:function(e,t){return n=t,r=this.context,$c(n,r,"query");var n,r},getSearchParameters:function(e,t,n){return e.setQuery(yf(t,n,this.context))},getMetadata:function(e,t){var n=this,r=yf(e,t,this.context);return{id:"query",index:kc(this.context),items:null===r?[]:[{label:"".concat("query",": ").concat(r),value:function(e){return bf(0,e,"",n.context)},currentRefinement:r}]}}});function xf(e,t,n){return zc(e,t,n,"sortBy",null,function(e){return e||null})}var Ff=ru({displayName:"AlgoliaSortBy",propTypes:{defaultRefinement:K.string,items:K.arrayOf(K.shape({label:K.string,value:K.string.isRequired})).isRequired,transformItems:K.func},getProvidedProps:function(e,t){var n=xf(e,t,this.context),r=e.items.map(function(e){return e.value===n?G({},e,{isRefined:!0}):G({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(r):r,currentRefinement:n}},refine:function(e,t,n){return Vc(t,F({},"sortBy",n),this.context,!0)},cleanUp:function(e,t){return $c(t,this.context,"sortBy")},getSearchParameters:function(e,t,n){var r=xf(t,n,this.context);return e.setIndex(r)},getMetadata:function(){return{id:"sortBy"}}}),_f=ru({displayName:"AlgoliaStateResults",getProvidedProps:function(e,t,n){return{searchState:t,searchResults:Uc(n,this.context),allSearchResults:n.results,searching:n.searching,isSearchStalled:n.isSearchStalled,error:n.error,searchingForFacetValues:n.searchingForFacetValues,props:e}}}),jf=ru({displayName:"AlgoliaStats",getProvidedProps:function(e,t,n){var r=Uc(n,this.context);return r?{nbHits:r.nbHits,processingTimeMS:r.processingTimeMS}:null}});function wf(e){return e.attribute}var Pf="toggle";function Sf(e,t,n){return zc(e,t,n,"".concat(Pf,".").concat(wf(e)),!1,function(e){return e||!1})}function Of(e,t,n,r){return Vc(t,F({},wf(e),n||!1),r,!0,Pf)}var Ef=ru({displayName:"AlgoliaToggle",propTypes:{label:K.string.isRequired,attribute:K.string.isRequired,value:K.any.isRequired,filter:K.func,defaultRefinement:K.bool},getProvidedProps:function(e,t,n){var r=e.attribute,i=e.value,a=Uc(n,this.context),o=Sf(e,t,this.context),s=a&&a.getFacetByName(r)?a.getFacetValues(r):null,c=s&&s.length?ya(s,function(e){return e.name===i.toString()}):null,u=c&&c.count,f=s&&s.length?s.reduce(function(e,t){return e+t.count},0):null;return{currentRefinement:o,canRefine:o?null!==f&&0<f:null!==u&&0<u,count:{checked:f,unchecked:u}}},refine:function(e,t,n){return Of(e,t,n,this.context)},cleanUp:function(e,t){return n=e,r=t,i=this.context,$c(r,i,"".concat(Pf,".").concat(wf(n)));var n,r,i},getSearchParameters:function(e,t,n){var r=t.attribute,i=t.value,a=t.filter,o=Sf(t,n,this.context),s=e.addDisjunctiveFacet(r);return o&&(s=s.addDisjunctiveFacetRefinement(r,i),a&&(s=a(s))),s},getMetadata:function(t,e){var n=this,r=wf(t),i=Sf(t,e,this.context),a=[],o=kc(this.context);return i&&a.push({label:t.label,currentRefinement:i,attribute:t.attribute,value:function(e){return Of(t,e,!1,n.context)}}),{id:r,index:o,items:a}}});e.createInstantSearch=function(o,e){var t,n;return n=t=function(e){function a(){var e,t;m(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if((t=b(this,(e=R(a)).call.apply(e,[this].concat(r)))).props.searchClient&&(t.props.appId||t.props.apiKey||t.props.algoliaClient))throw new Error("react-instantsearch:: `searchClient` cannot be used with `appId`, `apiKey` or `algoliaClient`.");return t.props.algoliaClient&&console.warn("`algoliaClient` option was renamed `searchClient`. Please use this new option before the next major version."),t.client=t.props.searchClient||t.props.algoliaClient||o(t.props.appId,t.props.apiKey,{_useRequestCache:!0}),"function"==typeof t.client.addAlgoliaAgent&&t.client.addAlgoliaAgent("react-instantsearch ".concat(eu)),t}return x(a,d.Component),g(a,[{key:"componentWillReceiveProps",value:function(e){var t=this.props;e.searchClient?this.client=e.searchClient:e.algoliaClient?this.client=e.algoliaClient:t.appId===e.appId&&t.apiKey===e.apiKey||(this.client=o(e.appId,e.apiKey)),"function"==typeof this.client.addAlgoliaAgent&&this.client.addAlgoliaAgent("react-instantsearch ".concat(eu))}},{key:"render",value:function(){return v.createElement(Xc,{createURL:this.props.createURL,indexName:this.props.indexName,searchState:this.props.searchState,onSearchStateChange:this.props.onSearchStateChange,onSearchParameters:this.props.onSearchParameters,root:this.props.root,searchClient:this.client,algoliaClient:this.client,refresh:this.props.refresh,resultsState:this.props.resultsState},this.props.children)}}]),a}(),F(t,"propTypes",{algoliaClient:K.object,searchClient:K.object,appId:K.string,apiKey:K.string,children:K.oneOfType([K.arrayOf(K.node),K.node]),indexName:K.string.isRequired,createURL:K.func,searchState:K.object,refresh:K.bool.isRequired,onSearchStateChange:K.func,onSearchParameters:K.func,resultsState:K.oneOfType([K.object,K.array]),root:K.shape({Root:K.oneOfType([K.string,K.func,K.object]).isRequired,props:K.object})}),F(t,"defaultProps",{refresh:!1,root:e}),n},e.createIndex=function(e){var t=function(e){var t=e.indexName,n=e.indexId,r=e.root,i=e.children;return v.createElement(tu,{indexName:t,indexId:n||t,root:r},i)};return t.propTypes={indexName:K.string.isRequired,indexId:K.string,root:K.shape({Root:K.oneOfType([K.string,K.func,K.object]).isRequired,props:K.object}),children:K.node},t.defaultProps={root:e},t},e.createConnector=ru,e.HIGHLIGHT_TAGS=Mc,e.version=eu,e.translatable=function(c){return function(t){var s,e=function(e){function i(){var e,o;m(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return F(y(y(o=b(this,(e=R(i)).call.apply(e,[this].concat(n))))),"translate",function(e){var t=o.props.translations,n=t&&Bc(t,e)?t[e]:c[e];if("function"!=typeof n)return n;for(var r=arguments.length,i=new Array(1<r?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return n.apply(void 0,i)}),o}return x(i,d.Component),g(i,[{key:"render",value:function(){return v.createElement(t,nu({translate:this.translate},this.props))}}]),i}(),n=t.displayName||t.name||"UnknownComponent";return e.displayName="Translatable(".concat(n,")"),e.propTypes={translations:(s=Object.keys(c),function(e,t,n){var r=e[t];if(r)for(var i=Object.keys(r),a=0;a<i.length;a++){var o=i[a];if(-1===s.indexOf(o))return new Error("Unknown `".concat(t,"` key `").concat(o,"`. Check the render method ")+"of `".concat(n,"`."))}})},e}},e.Configure=su,e.connectAutoComplete=fu,e.connectBreadcrumb=hu,e.connectConfigure=ou,e.connectCurrentRefinements=pu,e.connectGeoSearch=Ru,e.connectHierarchicalMenu=Su,e.connectHighlight=Eu,e.connectHits=Au,e.connectHitsPerPage=Nu,e.connectInfiniteHits=Iu,e.connectMenu=Uu,e.connectNumericMenu=Gu,e.connectPagination=Yu,e.connectPoweredBy=Zu,e.connectRange=cf,e.connectRefinementList=mf,e.connectScrollTo=gf,e.connectSearchBox=Rf,e.connectSortBy=Ff,e.connectStateResults=_f,e.connectStats=jf,e.connectToggleRefinement=Ef,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ReactInstantSearchCore.min.js.map
